[{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU Affero General Public License","title":"GNU Affero General Public License","text":"Version 3, 19 November 2007 Copyright (C) 2007 Free Software Foundation, Inc. <https://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU Affero General Public License","text":"GNU Affero General Public License free, copyleft license software kinds works, specifically designed ensure cooperation community case network server software. licenses software practical works designed take away freedom share change works. contrast, General Public Licenses intended guarantee freedom share change versions program–make sure remains free software users. speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. Developers use General Public Licenses protect rights two steps: (1) assert copyright software, (2) offer License gives legal permission copy, distribute /modify software. secondary benefit defending users’ freedom improvements made alternate versions program, receive widespread use, become available developers incorporate. Many developers free software heartened encouraged resulting cooperation. However, case software used network servers, result may fail come . GNU General Public License permits making modified version letting public access server without ever releasing source code public. GNU Affero General Public License designed specifically ensure , cases, modified source code becomes available community. requires operator network server provide source code modified version running users server. Therefore, public use modified version, publicly accessible server, gives public access source code modified version. older license, called Affero General Public License published Affero, designed accomplish similar goals. different license, version Affero GPL, Affero released new version Affero GPL permits relicensing license. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions.","title":"GNU Affero General Public License","text":"“License” refers version 3 GNU Affero General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code.","title":"GNU Affero General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions.","title":"GNU Affero General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law.","title":"GNU Affero General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies.","title":"GNU Affero General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions.","title":"GNU Affero General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: work must carry prominent notices stating modified , giving relevant date. work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms.","title":"GNU Affero General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms.","title":"GNU Affero General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: Disclaiming warranty limiting liability differently terms sections 15 16 License; Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; Limiting use publicity purposes names licensors authors material; Declining grant rights trademark law use trade names, trademarks, service marks; Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination.","title":"GNU Affero General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies.","title":"GNU Affero General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients.","title":"GNU Affero General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents.","title":"GNU Affero General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom.","title":"GNU Affero General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_13-remote-network-interaction-use-with-the-gnu-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Remote Network Interaction; Use with the GNU General Public License.","title":"GNU Affero General Public License","text":"Notwithstanding provision License, modify Program, modified version must prominently offer users interacting remotely computer network (version supports interaction) opportunity receive Corresponding Source version providing access Corresponding Source network server charge, standard customary means facilitating copying software. Corresponding Source shall include Corresponding Source work covered version 3 GNU General Public License incorporated pursuant following paragraph. Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU General Public License single combined work, convey resulting work. terms License continue apply part covered work, work combined remain governed version 3 GNU General Public License.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License.","title":"GNU Affero General Public License","text":"Free Software Foundation may publish revised /new versions GNU Affero General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU Affero General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU Affero General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU Affero General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty.","title":"GNU Affero General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability.","title":"GNU Affero General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"id_17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16.","title":"GNU Affero General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU Affero General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. software can interact users remotely computer network, also make sure provides way users get source. example, program web application, interface display “Source” link leads users archive code. many ways offer source, different solutions better different programs; see section 13 specific requirements. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU AGPL, see https://www.gnu.org/licenses/.","code":"<one line to give the program's name and a brief idea of what it does.>     Copyright (C) <year>  <name of author>      This program is free software: you can redistribute it and/or modify     it under the terms of the GNU Affero General Public License as     published by the Free Software Foundation, either version 3 of the     License, or (at your option) any later version.      This program is distributed in the hope that it will be useful,     but WITHOUT ANY WARRANTY; without even the implied warranty of     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the     GNU Affero General Public License for more details.      You should have received a copy of the GNU Affero General Public License     along with this program.  If not, see <https://www.gnu.org/licenses/>."},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/custom-indices.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Creating a Custom Function to Calculate Indices","text":"maximum flexibility calculating indices, ’ve enabled get_indices() function accept custom written functions, allowing users create function calculate indices may included existing methods.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/custom-indices.html","id":"function-requirements","dir":"Articles","previous_headings":"","what":"Function Requirements","title":"Creating a Custom Function to Calculate Indices","text":"eemlist: eemlist object containing EEM’s data. abslist: abslist object containing absorbance data. cuvle: cuvette (path) length cm. qaqc_dir: file path mdl files generated create_mdl() abs_index: indices calculated absorbance data eem_index: indices calculated EEMs data abs_index eem_index data.frame following columns: sample_name: character, name sample meta_name: character, name sample metadata metadata added, otherwise sample name index: character, name index reported value: value index, also accepts flag values (see details )","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/custom-indices.html","id":"helper-functions","dir":"Articles","previous_headings":"","what":"Helper Functions","title":"Creating a Custom Function to Calculate Indices","text":"eemanalyzeR package contains number functions helpful creating custom indices. get absorbance values certain wavelength get_absorbance() function can used. function can additionally provide specific absorbance (like SUVA 254). similar function exists getting fluorescence values EEMs data: get_fluorescence(). , can specify range excitation /emission wavelengths. stat set sum sum fluorescence returned, otherwise max used maximum fluorescence across range returned. Lastly, function getting spectral slopes: get_abs_slope() convert absorbance absorption, interpolate data needed, return spectral slope within wavelength range.","code":"abslist <- example_processed_abs  #absorbance at 254 nm a254 <- eemanalyzeR::get_absorbance(abslist, 254)  a254  #> [1] \"0.00054853647738303\" \"0.163215306070913\"   \"0.0806502356009794\"  #> [4] \"0.300921250392953\"  #specific absorbance at 254 nm suva254 <- eemanalyzeR::get_absorbance(abslist, 254, suva=TRUE)  suva254 #> [1] \"DOC01\"            \"DOC01\"            \"4.15722863922574\" \"DOC01\" eemlist <- example_processed_eems  #get maximum fluorescence across ranges for Peak A and D pA <- get_fluorescence(eemlist, ex=250:260, em=380:480, stat=\"max\") pA #> [1] \"0.0103767473213219\" \"0.280569719363854\"  \"0.340345670357128\"  #> [4] \"0.721431003125204\" pD <- get_fluorescence(eemlist, ex=390, em=509, stat=\"max\") pD  #> [1] \"0.000304395508989419\" \"0.0199829245761789\"   \"0.0978435434033769\"   #> [4] \"0.0372706531424358\"  #get sum of fluorescence across range of Peak A pA_sum <- get_fluorescence(eemlist, ex=250:260, em=380:480, stat=\"sum\") pA_sum #> [1] \"0.398846395176876\" \"15.4652173718784\"  \"29.1296537896885\"  #> [4] \"34.0595693438647\" S275_295 <- get_abs_slope(abslist, lim=c(275,295))"},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/custom-indices.html","id":"qaqc-flags","dir":"Articles","previous_headings":"","what":"QA/QC Flags","title":"Creating a Custom Function to Calculate Indices","text":"get_indices() function includes QA/QC checks (negative numbers, missing values, noise, outside expected range, etc.), checks easier calculating indices, may wish include custom flags checks. pass flags index function output, need get put value column index data.frames. rules follow flags: index value NA want flag reason NA, replace NA value flag value. wish report value, still include flag, report value form: value_flag (0.042_DATA01, 43.1_DOC01, etc.)","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/custom-indices.html","id":"helper-functions-1","dir":"Articles","previous_headings":"QA/QC Flags","what":"Helper Functions","title":"Creating a Custom Function to Calculate Indices","text":"helper functions within eemanalyzeR package provide common flags. First get_ratios() function. can helpful calculating things like peak ratios, missing value result NA value 0 denominator result infinite value. ’s also function flag indices can’t calculated data didn’t exist requested wavelengths: flag_missing(). useful check calculating indices flag certain indices might returning NA values. may also want flag values method detection limit (MDL) can done : check_eem_mdl() check_abs_mdl(). useful ensure blanks actually blank ratio values returned based “real” data. function generates one flag (say flag missing data MDL flag) can use .combine_flags() function nicely combine flags. ’ve gotten values flags, data needs formatted specific way input get_indices() function. can use format_index() function.","code":"#calculate the ratio of Peak A to Peak T  pA <- get_fluorescence(eemlist, ex=250:260, em=380:480)  pT <- get_fluorescence(eemlist, ex=270:280, em=320:350)  rAT <- get_ratios(pA, pT)  rAT #> [1] \"1.72750162152656\"  \"0.423565751341601\" \"4.07129094367473\"  #> [4] \"0.450601408727671\"     #if Peak T is all 0, will return DATA_03 flag, indicating index couldn't      #calculated due to zero in denominator     rAT <- get_ratios(pA, 0)     rAT #> [1] \"DATA03\" \"DATA03\" \"DATA03\" \"DATA03\"   #calculate HIX    sum_high <- get_fluorescence(eemlist, ex=254, em=435:480, stat = \"sum\")   sum_low <- get_fluorescence(eemlist, ex=254, em=300:345, stat=\"sum\")   HIX <- get_ratios(sum_high,sum_low)   HIX #> [1] \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\"      #if sum_low is NA, will return DATA_01 flag indicating the index couldn't be      #calculated due to missing data     HIX <- get_ratios(sum_high, NA)     HIX #> [1] \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\" #checking absorbance data   #data exists, so there are no flags, NA is returned   flag_missing(abslist, wl=400)  #> [1] NA NA NA NA   #data doesn't exist   flag_missing(abslist, wl=100) #> [1] \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\"     #some data exists, still calculate   flag_missing(abslist, wl=100:254, all=FALSE) #> [1] \"DATA02\" \"DATA02\" \"DATA02\" \"DATA02\"  #checking fluorescence data   #data exists, so there are no flags, NA is returned   flag_missing(eemlist, ex=270:280, em=300:320)  #> [1] NA NA NA NA      #data doesn't exist   flag_missing(eemlist, ex=100:150, em=300:320)  #> [1] \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\"      #some data exists, still calculate   flag_missing(eemlist, ex=100:350, em=300:320, all=FALSE)  #> [1] \"DATA02\" \"DATA02\" \"DATA02\" \"DATA02\" #checking absorbance data   #get mdl      abs_mdl <- readRDS(file.path(system.file(\"extdata\", package = \"eemanalyzeR\"),                                   \"abs-mdl.rds\"))    #data is fully above the MDL so NA is returned      check_abs_mdl(abslist[[2]], abs_mdl, wl=254) #> [1] NA        #data is fully below the MDL so MDL01 is returned     check_abs_mdl(abslist[[1]], abs_mdl, wl=254) #> [1] \"MDL01\"      #checking fluorescence data   #get mdl      eem_mdl <- readRDS(file.path(system.file(\"extdata\", package = \"eemanalyzeR\"),                                   \"eem-mdl.rds\"))        #data is completely above the MDL so NA is returned    check_eem_mdl(eemlist[[2]], mdl = eem_mdl, ex=270:280, em=300:320) #> [1] NA        #data is fully below the MDL so MDL01 is returned    check_eem_mdl(eemlist[[1]], mdl = eem_mdl, ex=270:280, em=300:320) #> [1] \"MDL01\"    #some of the data is below the MDL so MDL02 is returned     eemlist[[2]]$x[1,4] <- 0.000001 #set a low value so it spans the MDL in the region for an example     check_eem_mdl(eemlist[[2]], mdl = eem_mdl, ex = 314, em=250:262) #> [1] \"MDL02\" #works with a single set of flags      .combine_flags(\"DATA01\", NA) #> [1] \"DATA01\"     .combine_flags(NA, \"MDL01\") #> [1] \"MDL01\"     .combine_flags(NA, NA) #> [1] NA     .combine_flags(\"DATAO1\", \"MDL01\") #> [1] \"DATAO1_MDL01\"     .combine_flags(\"DATA01\", \"DATA01\") #> [1] \"DATA01\"      #also works with a vector of flags      flag1 <- c(\"MDL01\", \"MDL02\", NA)     flag2 <- c(\"DATA01\", NA, NA)     .combine_flags(flag1, flag2) #> [1] \"MDL01_DATA01\" \"MDL02\"        NA        #if you set MDL to TRUE, it knows it's combining two MDL flags      #so if one is MDL01 and one is MDL02, it will return MDL02, some of the      #data was below the MDL      #this function is useful for indices using ratios     .combine_flags(\"MDL01\", \"MDL02\", mdl=TRUE) #> [1] \"MDL03\" ex <- 240:260   em <- 300:320   vals <- get_fluorescence(eemlist, ex, em, stat = \"max\")   flags <- flag_missing(eemlist, ex=ex, em=em, all=FALSE)   index_formatted <- format_index(eemlist, \"test_index\", vals, flags)   index_formatted #>                           sample_name        meta_name      index #> 1                 B1S1ExampleBlankSEM     ExampleBlank test_index #> 2                B1S2ExampleTeaStdSEM    ExampleTeaStd test_index #> 3                B1S3ExampleSampleSEM    ExampleSample test_index #> 4 ManualExampleTeaWaterfallPlotSample ManualExampleTea test_index #>                         value #> 1 0.000532084537187422_DATA02 #> 2    0.520903992822657_DATA02 #> 3   0.0851942070835534_DATA02 #> 4     1.48625281995149_DATA02"},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/custom-indices.html","id":"example-1","dir":"Articles","previous_headings":"","what":"Example 1","title":"Creating a Custom Function to Calculate Indices","text":"Alright, now ’ve reviewed helper functions requirements custom function let’s example. Let’s create custom function calculate new fluorescence indices presented Zhang et al. 2025: U-SoI=U1ex:245,em:440U2ex:230,em:260 \\text{U-SoI} =\\frac{U1_{ex:245, em:440}}{U2_{ex:230, em:260}} -SoI=A1ex:245,em:325A2ex:260,em:430 \\text{-SoI} =\\frac{A1_{ex:245, em:325}}{A2_{ex:260, em:430}} T-SoI=T1ex:260,em:430T2ex:285,em:365 \\text{T-SoI} =\\frac{T1_{ex:260, em:430}}{T2_{ex:285, em:365}} First let’s turn different indices list excitation emission wavelengths. can use get_fluorescence() helper function calculate fluorescence numerator denominator ratio. can use get_ratios() helper function get ratio. single index look like: get indices let’s use lapply function. ’re calculating index, let’s also use flag_missing() function see ’s data missing. Since ’re finding maximum value, ’ll set FALSE report value ’s data. ’ll also check see data MDL, since two discrete values can use .combine_flags() combine returned MDL flags. Lastly, ’ll use format_index() function make sure everything correctly formatted. Now need make sure add MDL data can use check values. MDL NULL, want warning, still run. Lastly, just need return results list. Since don’t absorbance data ’ll just make NA. Great, looks good, now just need combine code custom function. Now let’s test custom function get_indices() function. Note get warning indices EEMs data hasn’t gone processing steps.","code":"zhang_indices <- list(USoI = list(ex=c(245,230), em=c(440,260)),                      ASoI = list(ex=c(245,260), em=c(325,430)),                      TSoI = list(ex=c(260,285), em=c(430,365))) eemlist <- example_processed_eems get_ratios(get_fluorescence(eemlist, zhang_indices$TSoI$ex[1], zhang_indices$TSoI$em[1]),             get_fluorescence(eemlist, zhang_indices$TSoI$ex[2], zhang_indices$TSoI$em[2])) #> [1] \"4.93586355290875\"  \"0.528716173072758\" \"3.87515734359415\"  #> [4] \"0.486202102785104\" results <- lapply(names(zhang_indices), function(index_name) {   index <- zhang_indices[[index_name]]   get_ratios(get_fluorescence(eemlist, index$ex[1], index$em[1]),             get_fluorescence(eemlist, index$ex[2], index$em[2]))      }) results <- lapply(names(zhang_indices), function(index_name){   #get values   index <- zhang_indices[[index_name]]   vals <- get_ratios(get_fluorescence(eemlist, index$ex[1], index$em[1]),             get_fluorescence(eemlist, index$ex[2], index$em[2]))    #get flags     missflags <- flag_missing(eemlist, ex=index$ex, em=index$em, all=TRUE)     mdlflags <- .combine_flags(check_eem_mdl(eemlist, eem_mdl, index$ex[1], index$em[1]),                                 check_eem_mdl(eemlist, eem_mdl, index$ex[2], index$em[2]), mdl=TRUE)     flags <- .combine_flags(missflags, mdlflags)    #add sample names and make into data.frame (get index name)   res <- format_index(eemlist, index_name, vals, flags)        #return res   return(res)   })  results <- do.call(rbind, results) qaqc_dir <- file.path(system.file(\"extdata\", package = \"eemanalyzeR\"))  #get mdl data   check_eem <- file.exists(file.path(qaqc_dir, \"eem-mdl.rds\"))    #load mdl data or warn   if(!check_eem){     warning(\"fluorescence MDL is missing, indices will not be checked for MDLs\")     eem_mdl <- NULL     }else{eem_mdl <- readRDS(file.path(qaqc_dir, \"eem-mdl.rds\"))} list(abs_index = NA,        eem_index=results) #> $abs_index #> [1] NA #>  #> $eem_index #>                            sample_name        meta_name index             value #> 1                  B1S1ExampleBlankSEM     ExampleBlank  USoI            DATA01 #> 2                 B1S2ExampleTeaStdSEM    ExampleTeaStd  USoI            DATA01 #> 3                 B1S3ExampleSampleSEM    ExampleSample  USoI            DATA01 #> 4  ManualExampleTeaWaterfallPlotSample ManualExampleTea  USoI            DATA01 #> 5                  B1S1ExampleBlankSEM     ExampleBlank  ASoI      DATA01_MDL03 #> 6                 B1S2ExampleTeaStdSEM    ExampleTeaStd  ASoI            DATA01 #> 7                 B1S3ExampleSampleSEM    ExampleSample  ASoI            DATA01 #> 8  ManualExampleTeaWaterfallPlotSample ManualExampleTea  ASoI            DATA01 #> 9                  B1S1ExampleBlankSEM     ExampleBlank  TSoI             MDL01 #> 10                B1S2ExampleTeaStdSEM    ExampleTeaStd  TSoI 0.528716173072758 #> 11                B1S3ExampleSampleSEM    ExampleSample  TSoI  3.87515734359415 #> 12 ManualExampleTeaWaterfallPlotSample ManualExampleTea  TSoI 0.486202102785104 zhang2025 <- function(eemlist, abslist, cuvle=1, qaqc_dir){   #making sure eemlist and abslist are correct objects     stopifnot(eemanalyzeR:::.is_eemlist(eemlist), eemanalyzeR:::.is_abslist(abslist),                is.numeric(cuvle), all(sapply(eemlist, attr, \"is_doc_normalized\"))==FALSE)      #get mdl data   check_eem <- file.exists(file.path(qaqc_dir, \"eem-mdl.rds\"))    #load mdl data or warn   if(!check_eem){     warning(\"fluorescence MDL is missing, indices will not be checked for MDLs\")     eem_mdl <- NULL   }else{eem_mdl <- readRDS(file.path(qaqc_dir, \"eem-mdl.rds\"))}      #specify indices     zhang_indices <- list(USoI = list(ex=c(245,230), em=c(440,260)),                      ASoI = list(ex=c(245,260), em=c(325,430)),                      TSoI = list(ex=c(260,285), em=c(430,365)))      #get results as a data.frame    results <- lapply(names(zhang_indices), function(index_name){       index <- zhang_indices[[index_name]]       vals <- get_ratios(get_fluorescence(eemlist, index$ex[1], index$em[1]),                 get_fluorescence(eemlist, index$ex[2], index$em[2]))                      missflags <- flag_missing(eemlist, ex=index$ex, em=index$em, all=TRUE)       mdlflags <- .combine_flags(check_eem_mdl(eemlist, eem_mdl, index$ex[1], index$em[1]),                                     check_eem_mdl(eemlist, eem_mdl, index$ex[2], index$em[2]), mdl=TRUE)       flags <- .combine_flags(missflags, mdlflags)            res <- format_index(eemlist, index_name, vals, flags)                return(res)       })    #combine lists together     results <- do.call(rbind, results)    return(list(abs_index = NA,          eem_index=results)) } indices <- get_indices(example_processed_eems,                         example_processed_abs,                         index_method = zhang2025,                         return = \"wide\",                         qaqc_dir = file.path(system.file(\"extdata\", package = \"eemanalyzeR\")))  indices$eem_index #> # A tibble: 4 × 5 #>   sample_name                         meta_name        USoI   ASoI         TSoI  #>   <chr>                               <chr>            <chr>  <chr>        <chr> #> 1 B1S1ExampleBlankSEM                 ExampleBlank     DATA01 DATA01_MDL03 MDL01 #> 2 B1S2ExampleTeaStdSEM                ExampleTeaStd    DATA01 DATA01       0.52… #> 3 B1S3ExampleSampleSEM                ExampleSample    DATA01 DATA01       3.875 #> 4 ManualExampleTeaWaterfallPlotSample ManualExampleTea DATA01 DATA01       0.48…"},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/custom-indices.html","id":"example-2","dir":"Articles","previous_headings":"","what":"Example 2","title":"Creating a Custom Function to Calculate Indices","text":"last example used fluorescence data. Let’s create another custom function focused absorbance indices. ’ll create function calculate indices used Erlandsson et al. 2012: First let’s turn indices list wavelengths help flagging calculating. Note ratios need two specific wavelengths, ’re making vector just two wavelengths, spectral slope needs wavelengths two values, ’re making vector wavelengths two wavelengths. can use get_absorbance() helper function calculate absorbance 254 420. single wavelength looks like: Let’s use lapply get absorbance, add flags, format correctly. ’ll use base::.call() bind lists indices together. Next lets get ratios, can still use get_absorbance() helper function get absorbance wavelengths, use get_ratios() helper function get ratio flags. case , don’t absorbance 220 nm, get flags DATA01 Since ’re getting multiple different sets ratios, let’s use base::lapply() get ratios . ’re calculating index, let’s also use flag_missing() function see ’s data missing. Lastly, ’ll use format_index() function make sure everything correctly formatted. ’ll use base::.call() bind lists indices together. Lastly need get spectral slopes spectral ratio. ’ll use get_abs_slope() function. Now need make sure add MDL data can use check values. MDL NULL, want warning, still run. Lastly, just need combine indices data.frame return results list using another base::.call(). Since don’t EEMs data ’ll just make NA. Great, looks good, now just need combine code custom function. Now let’s test custom function get_indices() function. note get warning indices EEMs data hasn’t gone processing steps.","code":"erlandsson_index <- list(a254=254,                          a420=420,                          a220_a254=c(220,250),                          a254_a364=c(254,364),                          a300_a400=c(300,400),                          S275_295=c(275:295),                          SR=c(275:295, 350:400)) abslist <- example_processed_abs a254 <- get_absorbance(abslist, wl=erlandsson_index[[1]]) a254 #> [1] \"0.00054853647738303\" \"0.163215306070913\"   \"0.0806502356009794\"  #> [4] \"0.300921250392953\" abs_data <- lapply(names(erlandsson_index[1:2]), function(index_name){        index <- erlandsson_index[[index_name]]         #get values        vals <- get_absorbance(abslist, wl=index)                 #get flags         missflags <- flag_missing(abslist, wl=index, all=TRUE)         mdlflags <- check_abs_mdl(abslist, abs_mdl, wl=index)         flags <- .combine_flags(missflags, mdlflags)        #add sample names and make into data.frame (get index name)         res <- format_index(abslist, index_name, vals, flags)          #return res         return(res)      }) abs_data <- do.call(rbind, abs_data) a220 <- get_absorbance(abslist, wl=220)  a254 <- get_absorbance(abslist, wl=254) a220_a254 <- get_ratios(a220, a254) a220_a254 #> [1] \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\" ratios <- lapply(names(erlandsson_index[3:5]), function(index_name){        index <- erlandsson_index[[index_name]]         #get values        a1 <- get_absorbance(abslist, wl=index[1])         a2 <- get_absorbance(abslist, wl=index[2])        get_ratios(a1, a2)      }) ratios <- lapply(names(erlandsson_index[3:5]), function(index_name){        index <- erlandsson_index[[index_name]]         #get values        a1 <- get_absorbance(abslist, wl=index[1])         a2 <- get_absorbance(abslist, wl=index[2])        vals <- get_ratios(a1, a2)                 #get flags         missflags <- flag_missing(abslist, wl=index, all=TRUE)         mdlflags <- check_abs_mdl(abslist, abs_mdl, wl=index)         flags <- .combine_flags(missflags, mdlflags)        #add sample names and make into data.frame (get index name)       res <- format_index(abslist, index_name, vals, flags)                #return res       return(res)      }) ratios <- do.call(rbind, ratios) index <- \"S275_295\" vals <- get_abs_slope(abslist, c(275,295)) missflags <- flag_missing(abslist, wl=erlandsson_index[[index]]) mdlflags <- check_abs_mdl(abslist, mdl=abs_mdl, wl=erlandsson_index[[index]]) flags <- .combine_flags(missflags, mdlflags) S275_295 <- format_index(abslist, index, vals, flags)  index <- \"SR\" vals <- get_ratios(get_abs_slope(abslist, c(275,295)), get_abs_slope(abslist, c(350,400))) missflags <- flag_missing(abslist, wl=erlandsson_index[[index]]) mdlflags <- .combine_flags(check_abs_mdl(abslist, mdl=abs_mdl, wl=275:295),                            check_abs_mdl(abslist, mdl=abs_mdl, wl=350:400)) flags <- .combine_flags(missflags, mdlflags) SR <- format_index(abslist, index, vals, flags) qaqc_dir <- file.path(system.file(\"extdata\", package = \"eemanalyzeR\"))  #get mdl data   check_abs <- file.exists(file.path(qaqc_dir, \"abs-mdl.rds\"))    #load mdl data or warn   if(!check_abs){     warning(\"absorbance MDL is missing, indices will not be checked for MDLs\")     abs_mdl <- NULL     }else{abs_mdl <- readRDS(file.path(qaqc_dir, \"abs-mdl.rds\"))} results <- do.call(rbind, list(abs_data, ratios, S275_295, SR))   list(abs_index = results,        eem_index=NA) #> $abs_index #>                         sample_name        meta_name     index #> 1               B1S1ExampleBlankABS     ExampleBlank      a254 #> 2              B1S2ExampleTeaStdABS    ExampleTeaStd      a254 #> 3              B1S3ExampleSampleABS    ExampleSample      a254 #> 4  ManualExampleTeaAbsSpectraGraphs ManualExampleTea      a254 #> 5               B1S1ExampleBlankABS     ExampleBlank      a420 #> 6              B1S2ExampleTeaStdABS    ExampleTeaStd      a420 #> 7              B1S3ExampleSampleABS    ExampleSample      a420 #> 8  ManualExampleTeaAbsSpectraGraphs ManualExampleTea      a420 #> 9               B1S1ExampleBlankABS     ExampleBlank a220_a254 #> 10             B1S2ExampleTeaStdABS    ExampleTeaStd a220_a254 #> 11             B1S3ExampleSampleABS    ExampleSample a220_a254 #> 12 ManualExampleTeaAbsSpectraGraphs ManualExampleTea a220_a254 #> 13              B1S1ExampleBlankABS     ExampleBlank a254_a364 #> 14             B1S2ExampleTeaStdABS    ExampleTeaStd a254_a364 #> 15             B1S3ExampleSampleABS    ExampleSample a254_a364 #> 16 ManualExampleTeaAbsSpectraGraphs ManualExampleTea a254_a364 #> 17              B1S1ExampleBlankABS     ExampleBlank a300_a400 #> 18             B1S2ExampleTeaStdABS    ExampleTeaStd a300_a400 #> 19             B1S3ExampleSampleABS    ExampleSample a300_a400 #> 20 ManualExampleTeaAbsSpectraGraphs ManualExampleTea a300_a400 #> 21              B1S1ExampleBlankABS     ExampleBlank  S275_295 #> 22             B1S2ExampleTeaStdABS    ExampleTeaStd  S275_295 #> 23             B1S3ExampleSampleABS    ExampleSample  S275_295 #> 24 ManualExampleTeaAbsSpectraGraphs ManualExampleTea  S275_295 #> 25              B1S1ExampleBlankABS     ExampleBlank        SR #> 26             B1S2ExampleTeaStdABS    ExampleTeaStd        SR #> 27             B1S3ExampleSampleABS    ExampleSample        SR #> 28 ManualExampleTeaAbsSpectraGraphs ManualExampleTea        SR #>                 value #> 1               MDL01 #> 2   0.163215306070913 #> 3  0.0806502356009794 #> 4   0.300921250392953 #> 5               MDL01 #> 6  0.0097782541629343 #> 7   0.005703926210965 #> 8  0.0174349110598922 #> 9        DATA01_MDL01 #> 10             DATA01 #> 11             DATA01 #> 12             DATA01 #> 13              MDL01 #> 14   4.30029009047272 #> 15   5.03597089422996 #> 16   4.47739151485424 #> 17              MDL01 #> 18   6.02242754070733 #> 19   5.46607410055233 #> 20   6.50764672772594 #> 21              MDL01 #> 22 0.0230618505221762 #> 23 0.0130236674635653 #> 24 0.0230606966213098 #> 25              MDL01 #> 26   1.03003744636482 #> 27  0.740240611049655 #> 28   1.00357361747553 #>  #> $eem_index #> [1] NA erlandsson2012 <- function(eemlist, abslist, cuvle=1, qaqc_dir){   #making sure eemlist and abslist are correct objects     stopifnot(eemanalyzeR:::.is_eemlist(eemlist), eemanalyzeR:::.is_abslist(abslist),                is.numeric(cuvle), all(sapply(eemlist, attr, \"is_doc_normalized\"))==FALSE)      #get mdl    check_abs <- file.exists(file.path(qaqc_dir, \"abs-mdl.rds\"))    #load mdl data or warn   if(!check_abs){     warning(\"absorbance MDL is missing, indices will not be checked for MDLs\")     abs_mdl <- NULL   }else{abs_mdl <- readRDS(file.path(qaqc_dir, \"abs-mdl.rds\"))}      #specify wavelengths     erlandsson_index <- list(a254=254,                          a420=420,                          a220_a254=c(220,250),                          a254_a364=c(254,364),                          a300_a400=c(300,400),                          S275_295=c(275:295),                          SR=c(275:295, 350:400))      #get results as a data.frame     abs_data <- lapply(names(erlandsson_index[1:2]), function(index_name){        index <- erlandsson_index[[index_name]]         #get values        vals <- get_absorbance(abslist, wl=index)                 #get flags         missflags <- flag_missing(abslist, wl=index, all=TRUE)         mdlflags <- check_abs_mdl(abslist, abs_mdl, wl=index)         flags <- .combine_flags(missflags, mdlflags)                #add sample names and make into data.frame (get index name)         res <- format_index(abslist, index_name, vals, flags)          #return res         return(res)      })     abs_data <- do.call(rbind, abs_data)        ratios <- lapply(names(erlandsson_index[3:5]), function(index_name){        index <- erlandsson_index[[index_name]]         #get values        a1 <- get_absorbance(abslist, wl=index[1])         a2 <- get_absorbance(abslist, wl=index[2])        vals <- get_ratios(a1, a2)                 #get flags         missflags <- flag_missing(abslist, wl=index, all=TRUE)         mdlflags <- check_abs_mdl(abslist, abs_mdl, wl=index)         flags <- .combine_flags(missflags, mdlflags)        #add sample names and make into data.frame (get index name)       res <- format_index(abslist, index_name, vals, flags)                #return res       return(res)      })     ratios <- do.call(rbind, ratios)           index <- \"S275_295\"     vals <- get_abs_slope(abslist, c(275,295))     missflags <- flag_missing(abslist, wl=erlandsson_index[[index]])     mdlflags <- check_abs_mdl(abslist, mdl=abs_mdl, wl=erlandsson_index[[index]])     flags <- .combine_flags(missflags, mdlflags)     S275_295 <- format_index(abslist, index, vals, flags)          index <- \"SR\"     vals <- get_ratios(get_abs_slope(abslist, c(275,295)),                         get_abs_slope(abslist, c(350,400)))     missflags <- flag_missing(abslist, wl=erlandsson_index[[index]])     mdlflags <- .combine_flags(check_abs_mdl(abslist, mdl=abs_mdl, wl=275:295),                                check_abs_mdl(abslist, mdl=abs_mdl, wl=350:400))     flags <- .combine_flags(missflags, mdlflags)     SR <- format_index(abslist, index, vals, flags)    #combine lists together     results <- do.call(rbind, list(abs_data, ratios, S275_295, SR))     return(list(abs_index = results,        eem_index=NA)) } indices <- get_indices(example_processed_eems, example_processed_abs, index_method = erlandsson2012,                         qaqc_dir = file.path(system.file(\"extdata\", package = \"eemanalyzeR\")), return=\"wide\")  indices$abs_index #> # A tibble: 4 × 9 #>   sample_name meta_name a254  a420  a220_a254 a254_a364 a300_a400 S275_295 SR    #>   <chr>       <chr>     <chr> <chr> <chr>     <chr>     <chr>     <chr>    <chr> #> 1 B1S1Exampl… ExampleB… MDL01 MDL01 DATA01_M… MDL01     MDL01     MDL01    MDL01 #> 2 B1S2Exampl… ExampleT… 0.16… 0.00… DATA01    4.3       6.022     0.02306  1.03  #> 3 B1S3Exampl… ExampleS… 0.08… 0.00… DATA01    5.036     5.466     0.01302  0.74… #> 4 ManualExam… ManualEx… 0.30… 0.01… DATA01    4.477     6.508     0.02306  1.004"},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/custom-indices.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Creating a Custom Function to Calculate Indices","text":"Zhang, H., Hou, J., Nie, L., Hao, Y., Gao, H., & Yu, H. (2025). Developing new spectral indices identifying DOM sources Liaohe River large-scale river basin fluorescence spectroscopy random forest model. Process Safety Environmental Protection, 201, 107553. https://doi.org/10.1016/j.psep.2025.107553 Erlandsson, M., N. Futter, M., N. Kothawala, D., & J. Köhler, S. (2012). Variability spectral absorbance metrics across boreal lake waters. Journal Environmental Monitoring, 14(10), 2643-2652. https://doi.org/10.1039/C2EM30266G","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"what-are-optical-indices","dir":"Articles","previous_headings":"","what":"What are optical indices?","title":"Calculating Indices with eemanalyzeR Method","text":"Excitation emission matrices (EEMs) absorbance spectra can large, unwieldy datasets can challenging interpret. procedures like parallel factor analysis (PARAFAC) can used (Stedmon et al. 2003), analyses can complex, time consuming, require substantial computing power. alternative method interpreting optical data use absorbance fluorescence indices single value calculated absorbance fluorescence spectra. benefit single value easily derived plotted. However, interpretation can challenging many metrics derived specific environments, interpretation may transferable environments sample types (Gabor et al. 2014, Serène et al. 2025).","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"suva-254-suva254","dir":"Articles","previous_headings":"Absorbance Indices","what":"SUVA 254 (SUVA254)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: absorbance 254 nm per unit carbon, giving index units L mg-C-1 m-1. Interpretation: SUVA 254 considered proxy aromatic content dissolved organic matter, higher values indicate higher aromaticity. also found correlated disinfection -product precursors (Rostad et al. 2000). Source(s): Weishaar et al. 2003","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"suva-280-suva280","dir":"Articles","previous_headings":"Absorbance Indices","what":"SUVA 280 (SUVA280)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: absorbance 280 nm per unit carbon, giving index units L mg-C-1 m-1. Interpretation: Similar SUVA 254, SUVA 280 considered proxy aromatic content dissolved organic matter, higher values indicate higher aromaticity. index proposed alternative SUVA 254, evidence 280 nm may better wavelength determine aromaticity since π\\pi π*\\pi* transitions occur many aromatic molecules (Chin et al. 1994). Source(s): Chin et al. 1994, Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"sva-412-sva412","dir":"Articles","previous_headings":"Absorbance Indices","what":"SVA 412 (SVA412)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: absorbance 412 nm per unit carbon, giving index units L mg-C-1 m-1. Interpretation: specific absorbance metrics, can used proxy aromatic content DOM higher values indicate higher amount aromaticity. Source(s): Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"spectral-slope-between-275-to-295-nm-s275_295","dir":"Articles","previous_headings":"Absorbance Indices","what":"Spectral Slope Between 275 to 295 nm (S275_295)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Found fitting non-linear exponential function absorbance spectrum 275-295 nm. Interpretation: Higher values typically associated lower molecular weight materials /lower aromaticity. Source(s): Helms et al. 2008, Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"spectral-slope-between-350-to-400-nm-s350_400","dir":"Articles","previous_headings":"Absorbance Indices","what":"Spectral Slope Between 350 to 400 nm (S350_400)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Found fitting non-linear exponential function absorbance spectrum 350-400 nm Interpretation: Higher values typically associated lower molecular weight materials /lower aromaticity. Source(s): Helms et al. 2008, Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"spectral-slope-ratio-sr","dir":"Articles","previous_headings":"Absorbance Indices","what":"Spectral Slope Ratio (SR)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio slope 275 295 nm slope 350 400 nm. Interpretation: Negatively correlated molecular weight generally increases irradiation. Source(s): Helms et al. 2008, Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"e2e3-ratio-e2_e3","dir":"Articles","previous_headings":"Absorbance Indices","what":"E2/E3 Ratio (E2_E3)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio absorbance 250 nm absorbance 365 nm. Interpretation: metric related molecular size aromaticity , E2/E3 increases, aromaticity molecular weight decreases. Source(s): Peuravuori Pihlaja 1997","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"e4e6-ratio-e4_e6","dir":"Articles","previous_headings":"Absorbance Indices","what":"E4/E6 Ratio (E4_E6)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio absorbance 465 nm absorbance 665 nm. Interpretation: metric initial used describe aromaticity organic matter, ’s found metric better descriptor amount humic-like organic matter. Source(s): Helms et al. 2008, Chen et al. 1977","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"peak-b-pb","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Peak B (pB)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Maximum fluorescence intensity ex: 270-280 nm em: 300-320 nm. Interpretation: peak typically associated tyrosine-like, protein-like organic matter. Source(s): Coble 1996, Gabor et al. 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"peak-t-pt","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Peak T (pT)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Maximum fluorescence intensity ex: 270-280 nm em: 320-350 nm. Interpretation: peak typically associated tryptophan-like, protein-like organic matter. Source(s): Coble 1996, Gabor et al. 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"peak-a-pa","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Peak A (pA)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Maximum fluorescence intensity ex: 250-260 nm em: 380-480 nm. Interpretation: peak typically associated UV humic-like organic matter. Source(s): Coble 1996, Gabor et al. 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"peak-m-pm","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Peak M (pM)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Maximum fluorescence intensity ex: 310-320 nm em: 380-420 nm. Interpretation: peak typically associated marine humic-like organic matter. However, component observed non-humic environments. Source(s): Coble 1996, Gabor et al. 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"peak-c-pc","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Peak C (pC)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Maximum fluorescence intensity ex: 330-350 nm em: 420-480 nm. Interpretation: peak typically associated visible humic-like organic matter. Source(s): Coble 1996, Gabor et al. 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"peak-d-pd","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Peak D (pD)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Fluorescence intensity ex: 390 nm em: 509 nm. Interpretation: peak typically associated soil fulvic acid-like organic matter. Source(s): Stedmon et al. 2003, Aiken, 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"peak-e-pe","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Peak E (pE)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Fluorescence intensity ex: 455 nm, em: 521 nm. Interpretation: peak typically associated soil fulvic acid-like organic matter. Source(s): Stedmon et al. 2003, Aiken, 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"peak-n-pn","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Peak N (pN)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: Fluorescence intensity ex: 280 nm, em: 370 nm. Interpretation: peak typically associated associated phytoplankton productivity. Source(s): Stedmon et al. 2003, Aiken, 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"ratio-of-peak-a-to-peak-t-rat","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Ratio of Peak A to Peak T (rAT)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio Peak Peak T. Interpretation: Related amount humic-like (recalcitrant) fresh (liable) dissolved organic matter. Source(s): Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"ratio-of-peak-c-to-peak-a-rca","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Ratio of Peak C to Peak A (rCA)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio Peak C Peak . Interpretation: Related amount amount humic-like fulvic-like dissolved organic matter. Source(s): Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"ratio-of-peak-c-to-peak-m-rcm","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Ratio of Peak C to Peak M (rCM)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio Peak C Peak M. Interpretation: Related amount diagenetically altered (blue shifted) dissolved organic matter. Source(s): Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"ratio-of-peak-c-to-peak-t-rct","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Ratio of Peak C to Peak T (rCT)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio Peak C Peak T. Interpretation: Related amount humic-like (recalcitrant) fresh (liable) dissolved organic matter. Can used identify sewage effluents may indicate biochemical oxygen demand. Source(s): Baker 2001, Hansen et al. 2016","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"fluorescence-index-fi","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Fluorescence Index (FI)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio fluorescence em: 470 nm em: 520 nm ex: 370 nm. Interpretation: typically used identify relative contributions terrestrial microbial dissolved organic matter sources, higher values indicate microbial sources. Typically microbially derived organic matter values around 1.9 terrestrial sources values around 1.4-1.5. However, newer work suggests metric can also used assess complexity aromaticity humic-like dissolved organic matter, lower values indicating complex aromatic organic matter. Source(s): McKnight et al. 2001, Cory McKnight 2005, Serène et al. 2025","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"humification-index-zsolnay-hix","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Humification Index-Zsolnay (HIX)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio sum fluorescence em: 435-480 nm em: 300-345 ex: 254 nm. Interpretation: typically used indication humic substances extent humification, described H/C ratio higher value indicates lower H/C ratio higher degree humification. However, recent work suggests metric related ratio complex, aromatic molecules simple, less aromatic molecules, higher values indicate aromatic polycondensed organic matter. Source(s): Zsolnay et al. 1999, Serène et al. 2025","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"humification-index-ohno-hix_ohno","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Humification Index-Ohno (HIX_ohno)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio sum fluorescence em: 435-480 nm sum em: 300-345 em: 435-480 nm ex: 254 nm. Interpretation: Interpreted way calculation humification index. versions HIX used throughout literature. version proposed Ohno better samples higher absorbance accounts inner filter effects effectively. Source(s): Ohno et al. 2002, Gabor et al. 2014","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"freshness-index-or-βα-fresh","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Freshness Index or β/α (fresh)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio fluorescence em: 380 nm sum em: 420-435 nm ex: 310 nm. Interpretation: indication recently produced DOM biological activity, higher values indicate recently produced DOM. Source(s): Wilson Xenopoulos 2009","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"biological-index-bix","dir":"Articles","previous_headings":"Fluorescence Indices","what":"Biological Index (BIX)","title":"Calculating Indices with eemanalyzeR Method","text":"Calculation: ratio fluorescence em: 380 nm em: 430 nm ex: 310 nm. Interpretation: Traditionally used indicator autotrophic productivity values 1 indicate recently produced autochthonous dissolved organic matter. However, recent work suggests biological index used indicator humic origin, higher values indicate microbial origins lower values indicate lignin soil derived organic matter. Source(s): Huguet et al. 2009, Serène et al. 2025","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/eemanalyzeR-indices.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Calculating Indices with eemanalyzeR Method","text":"Aiken, G. (2014). Fluorescence Dissolved Organic Matter: Chemist’s Perspective. . Baker, D. M. Reynolds, J. Lead, P. G. Coble, & R. G. M. Spencer (Eds.), Aquatic Organic Matter Fluorescence (pp. 35-74). Cambridge: Cambridge University Press. https://doi.org/10.1017/CBO9781139045452.005 Baker, . (2001). Fluorescence Excitation−Emission Matrix Characterization Sewage-Impacted Rivers. Environmental Science & Technology, 35(5), 948-953. https://doi.org/10.1021/es000177t Chen, Y., Senesi, N., & Schnitzer, M. (1977). Information Provided Humic Substances E4/E6 Ratios. Soil Science Society America Journal, 41(2), 352-358. https://doi.org/10.2136/sssaj1977.03615995004100020037x Chin, Y.-Ping., Aiken, George., & O’Loughlin, Edward. (1994). Molecular Weight, Polydispersity, Spectroscopic Properties Aquatic Humic Substances. Environmental Science & Technology, 28(11), 1853-1858. https://doi.org/10.1021/es00060a015 Coble, P. G. (1996). Characterization marine terrestrial DOM seawater using excitation-emission matrix spectroscopy. Marine Chemistry, 51(4), 325-346. https://doi.org/10.1016/0304-4203(95)00062-3 Cory, R. M., & McKnight, D. M. (2005). Fluorescence Spectroscopy Reveals Ubiquitous Presence Oxidized Reduced Quinones Dissolved Organic Matter. Environmental Science & Technology, 39(21), 8142–8149. https://doi.org/10.1021/es0506962 Gabor, R. S., Baker, ., McKnight, D. M., & Miller, M. P. (2014). Fluorescence Indices Interpretation. Aquatic Organic Matter Fluorescence (pp. 303-338). Cambridge University Press. https://doi.org/10.1017/CBO9781139045452.015 Hansen, . M., Kraus, T. E. C., Pellerin, B. ., Fleck, J. ., Downing, B. D., & Bergamaschi, B. . (2016). Optical properties dissolved organic matter (DOM): Effects biological photolytic degradation. Limnology Oceanography, 61(3), 1015-1032. https://doi.org/10.1002/lno.10270 Helms, J. R., Stubbins, ., Ritchie, J. D., Minor, E. C., Kieber, D. J., & Mopper, K. (2008). Absorption spectral slopes slope ratios indicators molecular weight, source, photobleaching chromophoric dissolved organic matter. Limnology Oceanography, 53(3), 955-969. https://doi.org/10.4319/lo.2008.53.3.0955 Huguet, ., Vacher, L., Relexans, S., Saubusse, S., Froidefond, J. M., & Parlanti, E. (2009). Properties fluorescent dissolved organic matter Gironde Estuary. Organic Geochemistry, 40(6), 706-719. https://doi.org/10.1016/j.orggeochem.2009.03.002 McKnight, D. M., Boyer, E. W., Westerhoff, P. K., Doran, P. T., Kulbe, T., & Andersen, D. T. (2001). Spectrofluorometric characterization dissolved organic matter indication precursor organic material aromaticity. Limnology Oceanography, 46(1), 38-48. https://doi.org/10.4319/lo.2001.46.1.0038 Ohno, T. (2002). Fluorescence inner-filtering correction determining humification index dissolved organic matter. Environmental Science & Technology, 36(4), 742-746. https://doi.org/10.1021/es0155276 Peuravuori, J., & Pihlaja, K. (1997). Molecular size distribution spectroscopic properties aquatic humic substances. Analytica Chimica Acta, 337(2), 133-149. https://doi.org/10.1016/S0003-2670(96)00412-6 Rostad, C. E., Martin, B. S., Barber, L. B., Leenheer, J. ., & Daniel, S. R. (2000). Effect Constructed Wetland Disinfection Byproducts:  Removal Processes Production Precursors. Environmental Science & Technology, 34(13), 2703–2710. https://doi.org/10.1021/es9900407 Serène, L., Mazzilli, N., Batiot-Guilhe, C., Emblanch, C., Gillon, M., Babic, M., et al. (2025). Questioning calculation interpretation fluorescence indices natural waters studies. Journal Hydrology, 650, 132524. https://doi.org/10.1016/j.jhydrol.2024.132524 Stedmon, C. ., Markager, S., & Bro, R. (2003). Tracing dissolved organic matter aquatic environments using new approach fluorescence spectroscopy. Marine Chemistry, 82(3), 239-254. https://doi.org/10.1016/S0304-4203(03)00072-0 Weishaar, J. L., Aiken, G. R., Bergamaschi, B. ., Fram, M. S., Fujii, R., & Mopper, K. (2003). Evaluation Specific Ultraviolet Absorbance Indicator Chemical Composition Reactivity Dissolved Organic Carbon. Environmental Science & Technology, 37(20), 4702-4708. https://doi.org/doi.org:10.1021/es030360x Wilson, H. F., & Xenopoulos, M. . (2009). Effects agricultural land use composition fluvial dissolved organic matter. Nature Geoscience, 2(1), 37-41. https://doi.org/10.1038/ngeo391 Zsolnay, ., Baigar, E., Jimenez, M., Steinweg, B., & Saccomandi, F. (1999). Differentiating fluorescence spectroscopy sources dissolved organic matter soils subjected drying. Chemosphere, 38(1), 45-50. https://doi.org/10.1016/S0045-6535(98)00166-0","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/getting-started.html","id":"the-need","dir":"Articles","previous_headings":"","what":"The Need","title":"Introduction to eemanalyzeR","text":"many instruments measure EEMs absorbance come built software perform post-processing steps, using tools can lead reproducibility issues processing steps often well tracked easily repeatable. drEEM toolbox MATLAB one first tools address issue, allowing users create processing script allowed replication consistent methods. However, MATLAB proprietary software, limiting accessibly. Two R packages created provide open access processing tools: eemR staRdom However, tools require fair bit coding knowledge set processing procedure. eemanalyzeR package aims simple enough undergraduates, often ones running instruments, can process data shorten time data collection data checks ensure samples can rerun within hold times. package aims fill following gaps: comprehensive dealing absorbance data Applying QA/QC checks ensure quality data Automate processing via single function make easy beginner coders use Retain ability customize processing steps","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/getting-started.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Introduction to eemanalyzeR","text":"Install load recent approved version CRAN running Install load recent version eemanalyzeR GitHub running Install load recent development version eemanalyzeR GitHub running Load package","code":"install.packages(\"eemanalyzeR\") # Installing from GitHub requires you first install the remotes package install.packages(\"remotes\")  # install the most recent version from GitHub remotes::install_github(\"katiewampler/eemanalyzeR\", ref = \"master\") # Installing from GitHub requires you first install the remotes package install.packages(\"remotes\")  # install the most recent development version from GitHub remotes::install_github(\"katiewampler/eemanalyzeR\", ref = \"dev\") library(eemanalyzeR) #> Registered S3 method overwritten by 'eemanalyzeR': #>   method       from #>   plot.eemlist eemR #> User configuration loaded from file: #> ~/.local/share/eemanalyzeR/user-config.yaml"},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/getting-started.html","id":"processing-data","dir":"Articles","previous_headings":"","what":"Processing Data","title":"Introduction to eemanalyzeR","text":"go raw data processed clean data use run_eems() function. minimum requires following arguments: input_dir: file path folder containing raw EEMs absorbance files computer. filename: name project, used name exported files. function export processed data, indices calculations, plots defaults can look function outputs.","code":"run_eems(input_dir = system.file(\"extdata\", package = \"eemanalyzeR\"),            filename = \"eemanalyzeR-example\", interactive = FALSE) #> ~/ #> ├── B1S1ExampleBlankSEM.png #> ├── B1S2ExampleTeaStdSEM.png #> ├── B1S3ExampleSampleSEM.png #> ├── ManualExampleTeaWaterfallPlotSample.png #> ├── absorbance_plot_eemanalyzeR-example.png #> ├── summary_plots_eemanalyzeR-example.png #> ├── absindices_eemanalyzeR-example.csv #> ├── fluorindices_eemanalyzeR-example.csv #> ├── metadata_eemanalyzeR-example.csv #> ├── processed_data_eemanalyzeR-example.rds #> └── readme_eemanalyzeR-example.txt"},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/getting-started.html","id":"the-outputs","dir":"Articles","previous_headings":"Processing Data","what":"The Outputs","title":"Introduction to eemanalyzeR","text":"*_indices_filename.csv:absorbance fluorescence indices absorbance_plot_filename.png: Plot showing absorbance spectra * .png: Plots individual EEMs summary_plots_filename.png: Plot showing EEMs together readme_filename.txt: text file detailing processing steps warnings occurred data processing processed_data_filename.rds: R readable object containing exported data","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/getting-started.html","id":"setting-up-processing-defaults","dir":"Articles","previous_headings":"","what":"Setting up Processing Defaults","title":"Introduction to eemanalyzeR","text":"eemanalyzeR process files directly “box”, specific research projects may differing processing needs. like consistently modify defaults used run_eems() function can use edit_user_config() function. create YAML file selected defaults stored computer read load package.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/getting-started.html","id":"creating-qaqc-standards","dir":"Articles","previous_headings":"","what":"Creating QA/QC Standards","title":"Introduction to eemanalyzeR","text":"One goals eemanalyzeR package build QA/QC checks ensure data quality. required use package, can use create_mdl() create_std() functions. function requires directory analytical blanks check standards (instance tea standard recommended USGS). can create standards number samples, recommended use least 20 stability. Use following code create method detection limit (MDL) files. default stored user-specific data directory loaded needed process samples. can use similar process create check standard files. files used calculating absorbance fluorescence indices ensure: Prevents reporting values just noise Checks potential contamination Checks potential run issues (air bubbles, equipment issues, calculation issues)","code":"#specify where the long-term blank files live dir <- file.path(system.file(\"extdata\", package = \"eemanalyzeR\"), \"long-term-blanks\")  #generate mdl file eem_mdl <- create_mdl(dir, type = \"eem\")  abs_mdl <- create_mdl(dir, type = \"abs\") #specify where the long-term blank files live dir <- file.path(system.file(\"extdata\", package = \"eemanalyzeR\"), \"long-term-std\")  #generate mdl file eem_std <- create_std(dir, type = \"eem\", abs_pattern = \"ABS\")  abs_std <- create_std(dir, type = \"abs\", abs_pattern = \"ABS\")"},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/output-documentation.html","id":"exported-data","dir":"Articles","previous_headings":"","what":"Exported Data","title":"Interpreting eemanalyzeR Outputs","text":"Every data export eemanalyzeR using export_data() run_eems() functions contains following files: *_indices_filename.csv:absorbance fluorescence indices absorbance_plot_filename.png: Plot showing absorbance spectra * .png: Plots individual EEMs summary_plots_filename.png: Plot showing EEMs together processed_data_filename.rds: R readable object containing exported data readme_filename.txt: text file detailing processing steps, warnings occurred data processing, information QA/QC checks performed","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/output-documentation.html","id":"visual-validation-of-instrument-blank","dir":"Articles","previous_headings":"QA/QC Checks","what":"Visual Validation of Instrument Blank","title":"Interpreting eemanalyzeR Outputs","text":"instrument blank can plotted visually validated user. step used visually look blank contamination errant peaks impact data blank subtraction. step performed readme contain line visual check occurred user processing data accepted data. validate_blanks() function also option user accept instrument blank, may replaced one analytical blanks. case readme note blank used instead instrument blank.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/output-documentation.html","id":"method-detection-limits","dir":"Articles","previous_headings":"QA/QC Checks","what":"Method Detection Limits","title":"Interpreting eemanalyzeR Outputs","text":"Absorbance fluorescence indices can compared method detection limits (MDL). MDL minimum signal can confidently distinguish measurement zero analytical blanks. , MDL calculated using approach proposed Hansen et al. (2018): MDL=mean(long-term blank)+3×SD(long-term blank) \\text{MDL} = \\text{mean}(\\text{long-term blank}) + 3 × \\text{SD}(\\text{long-term blank})long-term blank fluorescence specific wavelength pair absorbance specific wavelength, mean average signal, SD standard deviation. use MDL checks, user must create MDL files absorbance fluorescence data using create_mdl() function. MDL files found, warning appear readme file.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/output-documentation.html","id":"check-standards","dir":"Articles","previous_headings":"QA/QC Checks","what":"Check Standards","title":"Interpreting eemanalyzeR Outputs","text":"Samples sample type check can also checked long-term average consistency. use check standard checks, user must create average standard files absorbance fluorescence data using create_std() function. standard files found: warning appear readme file. standard file exists: available index values compared check standards within run long term standard. value outside tolerance range (default 20%), flagged index file. Additionally readme file contain summary number indices outside tolerance range across entire run tolerance used.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/output-documentation.html","id":"index-qaqc-flags","dir":"Articles","previous_headings":"QA/QC Checks","what":"Index QA/QC Flags","title":"Interpreting eemanalyzeR Outputs","text":"following flags may appear indices output files: DATA01: Missing data required calculation DATA02: Missing required wavelengths; value may inaccurate DATA03: Ratio denominator zero DATA04: Spectral slope calculated DOC01: Missing dissolved organic carbon (DOC) data INF01: Infinite value MDL01: values MDL MDL02: One values MDL; use cautiously MDL03: Ratio index numerator denominator entirely MDL NEG01: Negative value STD01: Check standard value outside tolerance VAL01: Value typical range VAL02: Value typical range","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/output-documentation.html","id":"indices","dir":"Articles","previous_headings":"","what":"Indices","title":"Interpreting eemanalyzeR Outputs","text":"absorbance indices reported default index method (eemanalyzeR) typical interpretations :  fluorescence indices reported default index method (eemanalyzeR) typical interpretations :  details interpretation sources see vignette vignette(\"eemanalyzeR-indices\").","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/articles/output-documentation.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Interpreting eemanalyzeR Outputs","text":"Hansen, . M., Fleck, J., Kraus, T. E. C., Downing, B. D., von Dessonneck, T., & Bergamaschi, B. (2018). Procedures using Horiba Scientific Aqualog® fluorometer measure absorbance fluorescence dissolved organic matter (USGS Numbered Series . 2018-1096). U.S. Geological Survey. https://doi.org/10.3133/ofr20181096","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Katie . Wampler. Author, maintainer. Ryan P. Cole. Author.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wampler Katie ., Cole Ryan P., (2026). eemanalyzeR: Semi-Automated Processing Excitation Emission Matrices. R package version 1.0.0, https://CRAN.R-project.org/package=eemanalyzeR, https://katiewampler.github.io/eemanalyzeR/","code":"@Manual{,   title = {{eemanalyzeR}: Semi-Automated Processing of Excitation Emission Matrices},   author = {Katie A. Wampler and Ryan P. Cole},   year = {2026},   note = {R package version 1.0.0},   url = {https://CRAN.R-project.org/package=eemanalyzeR, https://katiewampler.github.io/eemanalyzeR/}, }"},{"path":"https://katiewampler.github.io/eemanalyzeR/index.html","id":"eemanalyzer","dir":"","previous_headings":"","what":"Semi-Automated Processing of Excitation Emission Matrices","title":"Semi-Automated Processing of Excitation Emission Matrices","text":"package provides tools processing analyzing raw excitation-emission matrices (EEMs) data generated using Aqualog. package designed build upon eemR staRdom packages create streamlined automated workflow ensures consistent analysis simplify coding required process data. offers functions clean preprocess raw optics (absorbance fluorescence) data, perform quality assurance data, calculate various indices characterization (e.g., fluorescence index, humification index), generate range visualizations including contour plots 3D surface plots. package designed environmental analytical chemists working fluorescence spectroscopy data, particularly study complex environmental samples like water soil. streamlines data processing visualization, helping users extract meaningful information EEM datasets.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Semi-Automated Processing of Excitation Emission Matrices","text":"can install development version eemanalyzeR GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"katiewampler/eemanalyzeR\")"},{"path":"https://katiewampler.github.io/eemanalyzeR/index.html","id":"workflow","dir":"","previous_headings":"","what":"Workflow","title":"Semi-Automated Processing of Excitation Emission Matrices","text":"flow chart illustrating pre-processing steps data required, functions sub-functions contained main processing function (run_eems), post-processing outputs review process.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_interp.html","id":null,"dir":"Reference","previous_headings":"","what":"Interpolate absorbance data — abs_interp","title":"Interpolate absorbance data — abs_interp","text":"Interpolates absorbance data 1 nm resolution indices can calculated wavelengths explicitly measured.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_interp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interpolate absorbance data — abs_interp","text":"","code":"abs_interp(abs, type = \"linear\")"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_interp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interpolate absorbance data — abs_interp","text":"abs abs abslist object. type interpolation method, either \"linear\" linear interpolation using zoo::na.approx(), \"spline\" spline interpolation using zoo::na.spline().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_interp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interpolate absorbance data — abs_interp","text":"abs abslist object.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_interp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interpolate absorbance data — abs_interp","text":"","code":"abslist_filled <- abs_interp(example_abs) abs_filled <- abs_interp(example_abs[[1]])"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a single absorbance file into R — abs_read","title":"Read a single absorbance file into R — abs_read","text":"accept absorbance files run via Aqualog exported using sample Q manually. function tries load EEM file, return warning NULL value absorbance.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a single absorbance file into R — abs_read","text":"","code":"abs_read(file)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a single absorbance file into R — abs_read","text":"file File path absorbance file load.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a single absorbance file into R — abs_read","text":"object class abs containing: file: filename absorbance data sample: sample name n: number wavelengths measured data: matrix first column wavelength (nm) second column absorbance location: Directory absorbance file stored","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/abs_read.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read a single absorbance file into R — abs_read","text":"","code":"abs_files <- list.files(   system.file(\"extdata\", package = \"eemanalyzeR\"),   full.names = TRUE,   pattern = \"ABS|Abs ?Spectra ?Graphs\")  abs <- abs_read(abs_files[1])"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_blanks.html","id":null,"dir":"Reference","previous_headings":"","what":"Check blanks and add to sample data — add_blanks","title":"Check blanks and add to sample data — add_blanks","text":"Allows user visually check excitation-emission matrix (EEM) plots blanks, , approved, blanks added eem objects processing.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_blanks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check blanks and add to sample data — add_blanks","text":"","code":"add_blanks(eemlist, blanklist)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_blanks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check blanks and add to sample data — add_blanks","text":"eemlist eemlist object. blanklist Optional. eem eemlist containing blank EEM(s).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_blanks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check blanks and add to sample data — add_blanks","text":"eemlist eem object two added components: blk_file: file path blank associated sample blk_x: blank EEM associated sample","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_blanks.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check blanks and add to sample data — add_blanks","text":"one blank supplied, function links blank sample using metadata name. names must match sample corresponding blank. , samples must already metadata assigned using add_metadata(). blanklist provided, one automatically generated eemlist attribute \"sample_type\", using samples marked \"iblank\".","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_blanks.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Check blanks and add to sample data — add_blanks","text":"instrument blank accepted, function attempt use analytical blank instead (sample type 'sblank'). blank used instead, blank removed sample set note written readme.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_blanks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check blanks and add to sample data — add_blanks","text":"","code":"eemlist <- add_metadata(metadata, example_eems) blanklist <- subset_type(eemlist, \"iblank\") augment_eemlist <- add_blanks(eemlist, blanklist)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Add metadata to absorbance and EEM data — add_metadata","title":"Add metadata to absorbance and EEM data — add_metadata","text":"Adds metadata data frame abslist eemlist object additional list items.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add metadata to absorbance and EEM data — add_metadata","text":"","code":"add_metadata(   meta,   x,   iblank_pattern = \"BEM$|Waterfall ?Plot ?Blank\",   sblank_pattern = \"Blank|blank|BLK\",   check_pattern = \"Tea|tea\" )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add metadata to absorbance and EEM data — add_metadata","text":"meta data.frame containing metadata. x eemlist abslist object. iblank_pattern character vector length 1 regular expression matches sample names instrument blanks. Default \"BEM$|Waterfall ?Plot ?Blank\" sblank_pattern character vector length 1 regular expression matches sample names sample blanks. Default \"Blank|blank|BLK\" check_pattern character vector length 1 regular expression matches sample names check standards. Default \"Tea|tea\"","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add metadata to absorbance and EEM data — add_metadata","text":"object class input (abslist eemlist), metadata added. sample, following fields may added (present metadata): meta_name: identifier sample dilution: sample dilution factor analysis_date: date sample run description: optional description sample_type: optional flag (e.g., sample sample, sblank analytical blank, check check standard). Default values match Horiba Aqualog exports. doc_mgL: dissolved organic carbon concentration mg/L notes: optional notes sample sampling conditions x eemlist, two additional items added: integration_time_s: integration time sample raman_area_1s: Raman water peak area normalized 1-second integration time.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_metadata.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Add metadata to absorbance and EEM data — add_metadata","text":"eemlist contains blanks, blanks automatically inherit metadata corresponding sample.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/add_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add metadata to absorbance and EEM data — add_metadata","text":"","code":"# Add metadata to absorbance data abs_augment <- add_metadata(metadata, example_abs)  # Add metadata to EEM data eem_augment <- add_metadata(metadata, example_eems)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/annotate_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Annotate EEM plot with location of indices — annotate_plot","title":"Annotate EEM plot with location of indices — annotate_plot","text":"Adds labels indicating regions excitation–emission matrix (EEM) used calculate fluorescence indices. annotation customized according selected index method.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/annotate_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Annotate EEM plot with location of indices — annotate_plot","text":"","code":"annotate_plot(plot, index_method = \"eemanalyzeR\")"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/annotate_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Annotate EEM plot with location of indices — annotate_plot","text":"plot ggplot2 object eem. index_method Either \"eemanalyzeR\", \"eemR\", \"usgs\".","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/annotate_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Annotate EEM plot with location of indices — annotate_plot","text":"ggplot2 object.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/annotate_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Annotate EEM plot with location of indices — annotate_plot","text":"","code":"plot <- plot(example_processed_eems[[3]]) annotate_plot(plot)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_mdl.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether an EEM or absorbance sample is above the MDL — check_mdl","title":"Check whether an EEM or absorbance sample is above the MDL — check_mdl","text":"Checks whether values eem abs object method detection limit (MDL) specified set wavelengths excitation–emission pairs.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_mdl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether an EEM or absorbance sample is above the MDL — check_mdl","text":"","code":"check_eem_mdl(eem, mdl = NULL, ex, em, vals = FALSE)  check_abs_mdl(abs, mdl = NULL, wl, vals = FALSE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_mdl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether an EEM or absorbance sample is above the MDL — check_mdl","text":"eem eem eemlist object. mdl eem abs object containing MDL data. MDL provided, NA returned. ex vector excitation wavelengths. em vector emission wavelengths. vals TRUE, returns actual values, otherwise returns just flags. abs abs abslist object. wl vector absorbance wavelengths.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_mdl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether an EEM or absorbance sample is above the MDL — check_mdl","text":"vals = FALSE, returns one : \"MDL01\": values MDL \"MDL02\": values MDL NA: values MDL vals = TRUE, returns: data.frame containing wavelengths, observed values, MDL values","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_mdl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check whether an EEM or absorbance sample is above the MDL — check_mdl","text":"","code":"# Load MDL data eem_mdl <- readRDS(file.path(   system.file(\"extdata\", package = \"eemanalyzeR\"),   \"eem-mdl.rds\" ))  abs_mdl <- readRDS(file.path(   system.file(\"extdata\", package = \"eemanalyzeR\"),   \"abs-mdl.rds\" ))  # Single EEM sample check_eem_mdl(example_processed_eems[[1]], eem_mdl,               ex = 270:280, em = 300:320) #> [1] \"MDL01\"  # EEM list check_eem_mdl(example_processed_eems, eem_mdl,               ex = 270:280, em = 300:320) #> [1] \"MDL01\" NA      NA      NA       # Single absorbance sample check_abs_mdl(example_processed_abs[[2]], abs_mdl, wl = 254) #> [1] NA  # Absorbance list check_abs_mdl(example_processed_abs, abs_mdl, wl = 254) #> [1] \"MDL01\" NA      NA      NA"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_std.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a check standard is consistent with long-term standard — check_std","title":"Check if a check standard is consistent with long-term standard — check_std","text":"Calculate indices check standard ensure consistent long-term standard values.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_std.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a check standard is consistent with long-term standard — check_std","text":"","code":"check_std(   eemlist,   abslist,   qaqc_dir = .qaqc_dir(),   tolerance = 0.2,   index_method = \"eemanalyzeR\",   vals = FALSE )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_std.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a check standard is consistent with long-term standard — check_std","text":"eemlist eemlist object. abslist abslist object. qaqc_dir File path QAQC files generated create_mdl() create_std(). Default user-specific data directory rappdirs::user_data_dir(). tolerance Maximum percent deviation check standard can vary long-term values without flagged. index_method Either \"eemanalyzeR\", \"eemR\", \"usgs\", custom function. vals TRUE, returns actual values, otherwise returns just flags.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_std.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if a check standard is consistent with long-term standard — check_std","text":"vals = FALSE, returns data.frame four columns: meta_name: metadata name check standard type: abs eem indicating index type index: name index flag: \"STD01\" outside tolerance, otherwise NA vals = TRUE, additional columns include: observed: observed index value standard: long-term standard value percent_deviation: percent difference standard","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_std.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check if a check standard is consistent with long-term standard — check_std","text":"eemlist abslist must fully processed match long-term standard.","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/check_std.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if a check standard is consistent with long-term standard — check_std","text":"","code":"check_std(   example_processed_eems,   example_processed_abs,   qaqc_dir = system.file(\"extdata\", package = \"eemanalyzeR\") ) #>           meta_name type    index  flag #> 1     ExampleTeaStd  eem      BIX  <NA> #> 2  ManualExampleTea  eem      BIX  <NA> #> 3     ExampleTeaStd  eem       FI  <NA> #> 4  ManualExampleTea  eem       FI  <NA> #> 9     ExampleTeaStd  eem    fresh  <NA> #> 10 ManualExampleTea  eem    fresh  <NA> #> 15    ExampleTeaStd  eem       pB  <NA> #> 16 ManualExampleTea  eem       pB STD01 #> 19    ExampleTeaStd  eem       pC  <NA> #> 20 ManualExampleTea  eem       pC STD01 #> 23    ExampleTeaStd  eem       pD  <NA> #> 24 ManualExampleTea  eem       pD STD01 #> 31    ExampleTeaStd  eem       pM  <NA> #> 32 ManualExampleTea  eem       pM STD01 #> 35    ExampleTeaStd  eem       pN  <NA> #> 36 ManualExampleTea  eem       pN STD01 #> 39    ExampleTeaStd  eem       pT  <NA> #> 40 ManualExampleTea  eem       pT STD01 #> 47    ExampleTeaStd  eem      rCM  <NA> #> 48 ManualExampleTea  eem      rCM  <NA> #> 49    ExampleTeaStd  eem      rCT  <NA> #> 50 ManualExampleTea  eem      rCT  <NA> #> 51    ExampleTeaStd  abs    E2_E3  <NA> #> 52 ManualExampleTea  abs    E2_E3  <NA> #> 55    ExampleTeaStd  abs S275_295  <NA> #> 56 ManualExampleTea  abs S275_295  <NA> #> 57    ExampleTeaStd  abs S350_400  <NA> #> 58 ManualExampleTea  abs S350_400  <NA> #> 59    ExampleTeaStd  abs       SR  <NA> #> 60 ManualExampleTea  abs       SR  <NA>"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/correct_dilution.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform dilution corrections — correct_dilution","title":"Perform dilution corrections — correct_dilution","text":"Adjusts EEM's absorbance data fluorescence account dilutions performed prior measurement.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/correct_dilution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform dilution corrections — correct_dilution","text":"","code":"correct_dilution(x)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/correct_dilution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform dilution corrections — correct_dilution","text":"x eemlist abslist object.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/correct_dilution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform dilution corrections — correct_dilution","text":"object class x (eemlist abslist) dilution corrections applied.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/correct_dilution.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Perform dilution corrections — correct_dilution","text":"function uses dilution factor provided metadata correct EEMs absorbance values. , samples must already metadata added using add_metadata().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/correct_dilution.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform dilution corrections — correct_dilution","text":"","code":"eemlist <- add_metadata(metadata, example_eems) correct_eem <- correct_dilution(eemlist)  abslist <- add_metadata(metadata, example_abs) correct_abs <- correct_dilution(abslist)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_mdl.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate method detection limits (MDL) — create_mdl","title":"Calculate method detection limits (MDL) — create_mdl","text":"method detection limit (MDL) minimum signal can confidently distinguish measurement zero analytical blanks. , MDL calculated using approach proposed Hansen et al. (2018): MDL = mean(long-term blank) + 3 × SD(long-term blank).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_mdl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate method detection limits (MDL) — create_mdl","text":"","code":"create_mdl(   dir,   meta_name = NULL,   sheet = NULL,   iblank = \"BEM\",   type = \"eem\",   recursive = FALSE,   qaqc_dir = NULL )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_mdl.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Calculate method detection limits (MDL) — create_mdl","text":"Hansen, . M., Fleck, J., Kraus, T. E. C., Downing, B. D., von Dessonneck, T., & Bergamaschi, B. (2018). Procedures using Horiba Scientific Aqualog® fluorometer measure absorbance fluorescence dissolved organic matter (USGS Numbered Series . 2018-1096). U.S. Geological Survey. https://doi.org/10.3133/ofr20181096","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_mdl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate method detection limits (MDL) — create_mdl","text":"dir Path folder containing long-term EEMs /absorbance files. files directory loaded. meta_name Name metadata file. Optional metadata file .xlsx .csv file dir. specified, function attempts find single metadata file errors multiple files present. sheet Name sheet containing metadata (required metadata first sheet .xlsx file). iblank Optional. character string containing base::regular expression used identify instrument blanks. type MDL calculate: either \"eem\" \"abs\". recursive Logical. function recursively search directories? qaqc_dir Directory save QAQC .rds file. Default: user-specific data directory via rappdirs::user_data_dir(). FALSE, function returns MDL object instead saving .","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_mdl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate method detection limits (MDL) — create_mdl","text":"qaqc_dir = FALSE: returns eem abs object containing MDL values. Otherwise: saves .rds file containing MDL object invisibly returns file path.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_mdl.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate method detection limits (MDL) — create_mdl","text":"calculate MDL, need: directory containing analytical blanks instrument blanks (fewer 20 blanks triggers warning). Note: sample names must unique. metadata file blanks containing, minimum, integration time Raman area, formatted metadata file described metadata.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_mdl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate method detection limits (MDL) — create_mdl","text":"","code":"eem_mdl <- create_mdl(   file.path(system.file(\"extdata\", package = \"eemanalyzeR\"), \"long-term-blanks\"),   type = \"eem\",   qaqc_dir = FALSE ) #> No Meta file specified, using: #> /home/runner/work/_temp/Library/eemanalyzeR/extdata/long-term-blanks/longtermblank-metadata.csv #> NOTE: removed previous 'readme' file #> Warning: Calculating MDL based on less than 20 samples, MDL may be unreliable  plot(eem_mdl)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_std.html","id":null,"dir":"Reference","previous_headings":"","what":"Create long term average check standard — create_std","title":"Create long term average check standard — create_std","text":"Calculates average absorbance fluorescence values given multiple check standards create long-term standard daily check standard can checked consistency.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_std.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create long term average check standard — create_std","text":"","code":"create_std(   dir,   meta_name = NULL,   sheet = NULL,   abs_pattern = \"Abs\",   iblank = \"BEM\",   type = \"eem\",   recursive = FALSE,   qaqc_dir = NULL )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_std.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Create long term average check standard — create_std","text":"Hansen, . M., Fleck, J., Kraus, T. E. C., Downing, B. D., von Dessonneck, T., & Bergamaschi, B. (2018). Procedures using Horiba Scientific Aqualog® fluorometer measure absorbance fluorescence dissolved organic matter (USGS Numbered Series . 2018-1096). U.S. Geological Survey. https://doi.org/10.3133/ofr20181096","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_std.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create long term average check standard — create_std","text":"dir Path folder containing long-term EEMs /absorbance files. files directory loaded. meta_name Name metadata file. Optional metadata file .xlsx .csv file dir. specified, function attempts find single metadata file errors multiple files present. sheet Name sheet containing metadata (required metadata first sheet .xlsx file). abs_pattern character string containing base::regular expression used identify absorbance files. iblank Optional. character string containing base::regular expression used identify instrument blanks. type MDL calculate: either \"eem\" \"abs\". recursive Logical. function recursively search directories? qaqc_dir Directory save QAQC .rds file. Default: user-specific data directory via rappdirs::user_data_dir(). FALSE, function returns MDL object instead saving .","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_std.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create long term average check standard — create_std","text":"dir = FALSE: eem abs object containing averaged check standard values. Otherwise: saves .rds file containing averaged check standard invisibly returns file path.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_std.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create long term average check standard — create_std","text":"ensure optical measurements consistent across days, Hansen et al. (2018) recommend using standard reference material: Pure Leaf® unsweetened black tea. tea standard diluted 1% concentration analysis. recommended run tea standard start end analysis run. According USGS standards, tea standard indices measured given day fall within 20% long-term average (Hansen et al. 2018). calculate average check standard need: directory containing check standards associated instrument blanks (less 20 prompt warning) Note: sample names must unique Metadata check samples including (minimum) integration time raman area single file, formatted metadata file (see metadata)","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/create_std.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create long term average check standard — create_std","text":"","code":"eem_std <- create_std(file.path(system.file(\"extdata\", package = \"eemanalyzeR\"),\"long-term-std\"), meta_name=\"longterm-checkstd-metadata.csv\", abs_pattern = \"ABS\", type=\"eem\", qaqc_dir = FALSE) #> NOTE: removed previous 'readme' file #> Warning: Calculating average check standard based on less than 20 samples, average may be unreliable  plot(eem_std)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/default_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Default configuration of arguments for eemanalyzeR — default_config","title":"Default configuration of arguments for eemanalyzeR — default_config","text":"default argument values used run_eems() function. Argument values stored package environment (.pkgenv) accessed case specific variable specified user.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/default_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default configuration of arguments for eemanalyzeR — default_config","text":"","code":"default_config"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/default_config.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Default configuration of arguments for eemanalyzeR — default_config","text":"list length 27: abs_pattern: Used abs_dir_read(). character string containing base::regular expression() match files input_dir. files matching pattern loaded. abs_skip: Used abs_dir_read(). character string containing base::regular expression() match files input_dir ignored. abs_file_ext: Used abs_dir_read(). file extension absorbance files. abs_recurse_read: Used eem_dir_read(). Logical. function recursively search directories? eem_pattern: Used eem_dir_read(). character string containing base::regular expression() match files input_dir. files matching pattern loaded. eem_skip: Used eem_dir_read(). character string containing base::regular expression() match files input_dir ignored. eem_file_ext: Used eem_dir_read(). file extension EEMs files. eem_recurse_read: Used eem_dir_read(). Logical. function recursively search directories? eem_import_func: Used abs_dir_read(). Character user-defined function import EEM. details, see vignette(\"custom-indices\"). meta_sheet: Used meta_read(). Name sheet containing metadata (required metadata first sheet .xlsx file). meta_validate: Used meta_read(). Logical. TRUE, checks metadata structural issues cause problems processing. Recommended keep TRUE. iblank_pattern: Used add_metadata(). character vector length 1 regular expression matches sample names instrument blanks. sblank_pattern: Used add_metadata(). character vector length 1 regular expression matches sample names sample blanks. check_pattern: Used add_metadata(). character vector length 1 regular expression matches sample names check standards. blank_validate: Used add_blanks(). Logical vector length one indicating whether blanks validated. ex_clip: Used process_eem(). Numeric vector length two specifying minimum maximum excitation wavelengths keep. em_clip: Used process_eem(). Numeric vector length two specifying minimum maximum emission wavelengths keep. type: Used process_eem(). Logical vector length four indicating scattering lines remove. order \"raman1\", \"raman2\", \"rayleigh1\", \"rayleigh2\". width: Used process_eem(). Numeric vector length four specifying width scattering lines remove (nm). order type. interpolate: Used process_eem(). Logical vector length four indicating scattering lines interpolate. order type. method: Used process_eem(). Numeric (0–4) specifying interpolation method use. Default 1. See staRdom::eem_interp() details. cores: Used process_eem(). Integer specifying number cores parallel computation interpolation. cuvle: Used process_eem(). Cuvette (path) length cm. index_method: Used get_indices(). Either \"eemanalyzeR\", \"eemR\", \"usgs\", custom function. tolerance: Used get_indices(). Maximum percent deviation check standard can vary long-term values without flagged. return: Used get_indices().Output format: \"long\" \"wide\". qaqc_dir: Used get_indices(). File path QAQC files generated create_mdl() create_std(). Default user-specific data directory rappdirs::user_data_dir(). filename: Used export_data(). character string, used file names. output_dir: Used export_data(). Path save data. Defaults temporary directory specified. readme: Starts NULL, used store notes warnings processing.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/default_config.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Default configuration of arguments for eemanalyzeR — default_config","text":"values can edited : user permanently using edit_user_config() user current R session using modify_config() within run_eems() function providing argument values","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dir_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Read absorbance and fluorescence data from directory — dir_read","title":"Read absorbance and fluorescence data from directory — dir_read","text":"Wrappers eemR::eem_read() abs_read() read EEMs absorbance files directory R, even directory contains files.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dir_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read absorbance and fluorescence data from directory — dir_read","text":"","code":"eem_dir_read(   input_dir,   pattern = NA,   skip = \"(?i)abs\",   file_ext = \"dat\",   recursive = FALSE,   import_function = \"aqualog\",   verbose = TRUE )  abs_dir_read(   input_dir,   pattern = NA,   skip = \"SEM|BEM|Waterfall\",   file_ext = \"dat\",   recursive = FALSE,   verbose = TRUE )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dir_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read absorbance and fluorescence data from directory — dir_read","text":"input_dir Path folder containing raw EEMs /absorbance files. pattern Optional. character string containing base::regular expression() match files input_dir. files matching pattern loaded. skip Optional. character string containing base::regular expression() match files input_dir ignored. file_ext file extension EEMs absorbance files. recursive Logical. function recursively search directories? import_function Character user-defined function import EEM. details, see vignette(\"custom-indices\"). verbose Logical. function return notes resetting readme file?","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dir_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read absorbance and fluorescence data from directory — dir_read","text":"eem_dir_read() returns object class eemlist, containing list eem. details see eemR::eem_read(). abs_dir_read() returns object class abslist, containing list abs. details see abs_read().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dir_read.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read absorbance and fluorescence data from directory — dir_read","text":"","code":"# Load all EEMs from directory eem_list <- eem_dir_read(system.file(\"extdata\", package = \"eemanalyzeR\")) #> NOTE: removed previous 'readme' file  # Load all EEMs matching a pattern from directory eem_list <- eem_dir_read(system.file(\"extdata\", package = \"eemanalyzeR\"), pattern = \"SEM\")  # Load absorbance samples using a pattern abs <- abs_dir_read(system.file(\"extdata\", package = \"eemanalyzeR\"), pattern = \"abs|ABS\")  # Load absorbance samples while skipping EEMs and other files abs <- abs_dir_read(system.file(\"extdata\", package = \"eemanalyzeR\"), skip = \"SEM|BEM|Waterfall\")"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dot-combine_flags.html","id":null,"dir":"Reference","previous_headings":"","what":"Nicely combine data QAQC flags — .combine_flags","title":"Nicely combine data QAQC flags — .combine_flags","text":"previous flags `NA`, replaces new flagged value, otherwise combines flags \"_\" .","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dot-combine_flags.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nicely combine data QAQC flags — .combine_flags","text":"","code":".combine_flags(x, x1, mdl = FALSE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dot-combine_flags.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nicely combine data QAQC flags — .combine_flags","text":"x existing flags x1 flags add mdl logical, combing two MDL flags?","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dot-combine_flags.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nicely combine data QAQC flags — .combine_flags","text":"character vector combined flags.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/dot-combine_flags.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nicely combine data QAQC flags — .combine_flags","text":"","code":".combine_flags(\"DATA01\", NA) #> [1] \"DATA01\" .combine_flags(NA, \"MDL01\") #> [1] \"MDL01\" .combine_flags(NA, NA) #> [1] NA .combine_flags(\"DATAO1\", \"MDL01\") #> [1] \"DATAO1_MDL01\" .combine_flags(\"DATA01\", \"DATA01\") #> [1] \"DATA01\""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemR_indices.html","id":null,"dir":"Reference","previous_headings":"","what":"eemR and staRdom methods for fluorescence and absorbance indices — eemR_indices","title":"eemR and staRdom methods for fluorescence and absorbance indices — eemR_indices","text":"Calculates commonly used absorbance fluorescence optical indices eemlist abslist objects using functions eemR staRdom packages. Can incorporate sample metadata provided.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemR_indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"eemR and staRdom methods for fluorescence and absorbance indices — eemR_indices","text":"","code":"eemR_indices(eemlist, abslist, cuvle = 1, qaqc_dir = NULL)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemR_indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"eemR and staRdom methods for fluorescence and absorbance indices — eemR_indices","text":"eemlist eemlist object. abslist abslist object. cuvle Cuvette (path) length cm. qaqc_dir File path QAQC files generated create_mdl() create_std(). Default user-specific data directory rappdirs::user_data_dir().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemR_indices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"eemR and staRdom methods for fluorescence and absorbance indices — eemR_indices","text":"list two elements: eem_index: data.frame fluorescence indices. row corresponds single index sample. abs_index: data.frame absorbance indices. row corresponds single index sample. data.frame contains following columns: sample_name: name sample EEM absorbance list meta_name: sample name metadata provided; otherwise sample_name index: name index value: calculated value index","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemR_indices.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"eemR and staRdom methods for fluorescence and absorbance indices — eemR_indices","text":"Absorbance indices (a254, a300, E2_E3, E4_E6, S275_295, S350_400, S300_700, SR) calculated using staRdom::abs_parms(). Fluorescence indices calculated using following eemR functions: Coble peaks (b, t, , m, c): eemR::eem_coble_peaks() fi (fluorescence index): eemR::eem_fluorescence_index() hix (humification index): eemR::eem_humification_index() (use scale = TRUE hix_scaled) bix (biological index): eemR::eem_biological_index()","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemR_indices.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"eemR and staRdom methods for fluorescence and absorbance indices — eemR_indices","text":"","code":"indices <- eemR_indices(   eemlist = example_processed_eems,   abslist = example_processed_abs,   qaqc_dir = system.file(\"extdata\", package = \"eemanalyzeR\") )  # View fluorescence indices head(indices$eem_index) #>                           sample_name        meta_name index             value #> 1                 B1S1ExampleBlankSEM     ExampleBlank     b            DATA01 #> 2                B1S2ExampleTeaStdSEM    ExampleTeaStd     b            DATA01 #> 3                B1S3ExampleSampleSEM    ExampleSample     b            DATA01 #> 4 ManualExampleTeaWaterfallPlotSample ManualExampleTea     b            DATA01 #> 5                 B1S1ExampleBlankSEM     ExampleBlank     t             MDL01 #> 6                B1S2ExampleTeaStdSEM    ExampleTeaStd     t 0.589498543201255  # View absorbance indices head(indices$abs_index) #>                        sample_name        meta_name index            value #> 1              B1S1ExampleBlankABS     ExampleBlank  a254            MDL01 #> 2             B1S2ExampleTeaStdABS    ExampleTeaStd  a254 37.5817130707345 #> 3             B1S3ExampleSampleABS    ExampleSample  a254 18.5704030241273 #> 4 ManualExampleTeaAbsSpectraGraphs ManualExampleTea  a254 69.2896785319941 #> 5              B1S1ExampleBlankABS     ExampleBlank  a300            MDL01 #> 6             B1S2ExampleTeaStdABS    ExampleTeaStd  a300 20.2099169663529"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_normalize.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize an eem or eemlist based on a normalization factor — eem_normalize","title":"Normalize an eem or eemlist based on a normalization factor — eem_normalize","text":"Useful Raman normalization normalizing maximum one blank comparisons.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_normalize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize an eem or eemlist based on a normalization factor — eem_normalize","text":"","code":"eem_normalize(eem, factor = NULL)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_normalize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize an eem or eemlist based on a normalization factor — eem_normalize","text":"eem eem eemlist object. factor normalization factor, either single value vector factors. NULL, normalize maximum value eem.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_normalize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize an eem or eemlist based on a normalization factor — eem_normalize","text":"eem eemlist x normalized.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_normalize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Normalize an eem or eemlist based on a normalization factor — eem_normalize","text":"","code":"# Normalize a single EEM eem_normal <- eem_normalize(example_eems[1])  # Normalize an entire EEM list eems_normal <- eem_normalize(example_eems)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_transform.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert between an eem object and a data.frame — eem_transform","title":"Convert between an eem object and a data.frame — eem_transform","text":"Sometimes easier subset EEM matrix long format. function take EEM matrix turn data.frame , data.frame, convert eem object.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_transform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert between an eem object and a data.frame — eem_transform","text":"","code":"eem_transform(eem, file = NULL, sample = NULL, location = NULL)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_transform.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert between an eem object and a data.frame — eem_transform","text":"eem object class eem data.frame three columns: ex, em, fluor. file Optional. File path EEM data including data file name; used eem data.frame. sample Optional. name EEM sample; used eem data.frame. location Optional. path directory file located; used eem data.frame.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_transform.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert between an eem object and a data.frame — eem_transform","text":"Converts object class eem data.frame three columns: ex: excitation wavelengths em: emission wavelengths fluor: fluorescence values","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_transform.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert between an eem object and a data.frame — eem_transform","text":"loading samples partially processed, recommended set correct processing attributes TRUE indicate steps already performed. Use attributes(eem) see attributes, attr(eem, \"attribute_name\") <- TRUE set .","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eem_transform.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert between an eem object and a data.frame — eem_transform","text":"","code":"# Convert an EEM to a long data.frame flat_eem <- eem_transform(example_eems[[1]])  # Convert back to an EEM object eem_obj <- eem_transform(flat_eem)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemanalyzeR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"eemanalyzeR: Semi-Automated Processing of Excitation Emission Matrices — eemanalyzeR-package","title":"eemanalyzeR: Semi-Automated Processing of Excitation Emission Matrices — eemanalyzeR-package","text":"Tools processing analyzing raw excitation-emission matrices (EEMs) absorbance data. Includes functions data cleaning, quality assurance, calculation indices, generating visualizations. Builds upon 'eemR' 'staRdom' packages create streamlined automated workflow ensures consistent analysis simplify coding required process data.","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemanalyzeR-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"eemanalyzeR: Semi-Automated Processing of Excitation Emission Matrices — eemanalyzeR-package","text":"Maintainer: Katie . Wampler katie.wampler@oregonstate.edu (ORCID) Authors: Ryan P. Cole ryan.cole@oregonstate.edu","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemanalyzeR_indices.html","id":null,"dir":"Reference","previous_headings":"","what":"Default package methods for fluorescence and absorbance indices — eemanalyzeR_indices","title":"Default package methods for fluorescence and absorbance indices — eemanalyzeR_indices","text":"Calculates commonly used absorbance fluorescence optical indices eemlist abslist. detailed descriptions references indices, see vignette vignette(\"eemanalyzeR-indices\").","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemanalyzeR_indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default package methods for fluorescence and absorbance indices — eemanalyzeR_indices","text":"","code":"eemanalyzeR_indices(eemlist, abslist, cuvle = 1, qaqc_dir = NULL)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemanalyzeR_indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default package methods for fluorescence and absorbance indices — eemanalyzeR_indices","text":"eemlist eemlist object. abslist abslist object. cuvle Cuvette (path) length cm. qaqc_dir File path QAQC files generated create_mdl() create_std(). Default user-specific data directory rappdirs::user_data_dir().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemanalyzeR_indices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default package methods for fluorescence and absorbance indices — eemanalyzeR_indices","text":"list two elements: eem_index: data.frame fluorescence indices. row corresponds single index sample. abs_index: data.frame absorbance indices. row corresponds single index sample. data.frame contains following columns: sample_name: name sample EEM absorbance list meta_name: sample name metadata provided; otherwise sample_name index: name index value: calculated value index","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemanalyzeR_indices.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Default package methods for fluorescence and absorbance indices — eemanalyzeR_indices","text":"absorbance 1 nm interval, interpolated using zoo::na.approx(), fills missing values using linear interpolation. EEM data 1 nm interval, fluorescence interpolated using pracma::interp2().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/eemanalyzeR_indices.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Default package methods for fluorescence and absorbance indices — eemanalyzeR_indices","text":"","code":"indices <- eemanalyzeR_indices(   example_processed_eems,   example_processed_abs,   qaqc_dir = system.file(\"extdata\", package = \"eemanalyzeR\") )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_abs.html","id":null,"dir":"Reference","previous_headings":"","what":"Down-scaled absorbance data — example_abs","title":"Down-scaled absorbance data — example_abs","text":"subset water samples run Horiba Aqualog absorbance. data includes absorbance data associated samples example_eems(). Data loaded using abs_dir_read(). details format abslist, see abs_read().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_abs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Down-scaled absorbance data — example_abs","text":"","code":"example_abs"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_abs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Down-scaled absorbance data — example_abs","text":"abslist four samples: B1S1ExampleBlankABS: Absorbance measured sample Type 1 water B1S2ExampleTeaStdABS: Absorbance measured sample dilute unsweetened tea B1S3ExampleSampleABS: Absorbance measured sample stream water Oregon, USA ManualExampleTeaAbsSpectraGraphs: Absorbance measured sample dilute unsweetened tea","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_abs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Down-scaled absorbance data — example_abs","text":"Oregon State University Forest Ecohydrology Watershed Sciences Lab (2022-11-14 2022-08-05).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_eems.html","id":null,"dir":"Reference","previous_headings":"","what":"Down-scaled excitation emission matrices — example_eems","title":"Down-scaled excitation emission matrices — example_eems","text":"subset water samples run Horiba Aqualog excitation emission matrices (EEMs). data includes samples blanks. Data loaded using eem_dir_read(). details format eemlist, see eemR::eemR package.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_eems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Down-scaled excitation emission matrices — example_eems","text":"","code":"example_eems"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_eems.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Down-scaled excitation emission matrices — example_eems","text":"eemlist eight samples: B1S1ExampleBlankBEM: Fluorescence measured blank Type 1 water B1S1ExampleBlankSEM: Fluorescence measured sample Type 1 water B1S2ExampleTeaStdBEM: Fluorescence measured blank Type 1 water B1S2ExampleTeaStdSEM: Fluorescence measured sample dilute unsweetened tea B1S3ExampleSampleBEM: Fluorescence measured blank Type 1 water B1S3ExampleSampleSEM: Fluorescence measured sample stream water Oregon, USA ManualExampleTeaWaterfallPlotBlank: Fluorescence measured blank Type 1 water ManualExampleTeaWaterfallPlotSample: Fluorescence measured sample dilute unsweetened tea","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_eems.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Down-scaled excitation emission matrices — example_eems","text":"Oregon State University Forest Ecohydrology Watershed Sciences Lab (2022-11-14 2022-08-05).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_processed_abs.html","id":null,"dir":"Reference","previous_headings":"","what":"Down-scaled and processed absorbance data — example_processed_abs","title":"Down-scaled and processed absorbance data — example_processed_abs","text":"Processed version example_abs() using eemanalyzeR.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_processed_abs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Down-scaled and processed absorbance data — example_processed_abs","text":"","code":"example_processed_abs"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_processed_abs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Down-scaled and processed absorbance data — example_processed_abs","text":"abslist four samples: B1S1ExampleBlankABS: Absorbance measured sample Type 1 water B1S2ExampleTeaStdABS: Absorbance measured sample dilute unsweetened tea B1S3ExampleSampleABS: Absorbance measured sample stream water Oregon, USA ManualExampleTeaAbsSpectraGraphs: Absorbance measured sample dilute unsweetened tea","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_processed_abs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Down-scaled and processed absorbance data — example_processed_abs","text":"Oregon State University Forest Ecohydrology Watershed Sciences Lab (2022-11-14)","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_processed_eems.html","id":null,"dir":"Reference","previous_headings":"","what":"Down-scaled and processed excitation emission matrices — example_processed_eems","title":"Down-scaled and processed excitation emission matrices — example_processed_eems","text":"Processed version example_eems() using eemanalyzeR.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_processed_eems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Down-scaled and processed excitation emission matrices — example_processed_eems","text":"","code":"example_processed_eems"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_processed_eems.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Down-scaled and processed excitation emission matrices — example_processed_eems","text":"eemlist four samples: B1S1ExampleBlankSEM: Fluorescence measured sample Type 1 water B1S2ExampleTeaStdSEM: Fluorescence measured sample dilute unsweetened tea B1S3ExampleSampleSEM: Fluorescence measured sample stream water Oregon, USA ManualExampleTeaWaterfallPlotSample: Fluorescence measured sample dilute unsweetened tea","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/example_processed_eems.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Down-scaled and processed excitation emission matrices — example_processed_eems","text":"Oregon State University Forest Ecohydrology Watershed Sciences Lab (2022-11-14)","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/export_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Export processed absorbance and fluorescence data — export_data","title":"Export processed absorbance and fluorescence data — export_data","text":"Exports processed EEM absorbance data, plots, indices, metadata specified output directory. Creates folder named filename saves specified outputs .","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/export_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export processed absorbance and fluorescence data — export_data","text":"","code":"export_data(   eemlist,   abslist,   filename,   meta = NULL,   indices = NULL,   eem_plot = NULL,   abs_plot = NULL,   csv = FALSE,   output_dir = NA )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/export_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export processed absorbance and fluorescence data — export_data","text":"eemlist eemlist object. abslist abslist object. filename character string, used file names. meta data.frame containing sample metadata. indices NULL, indices exported. list indices provided, saved. eem_plot NULL, EEM plots exported. list plots provided, saved .png files. See plot.eemlist() plotting. abs_plot NULL, absorbance plots exported. plot provided, saved .png file. See plot.abslist() plotting. csv Logical. TRUE, processed EEM absorbance data metadata written output_dir .csv files. output_dir Path save data. Defaults temporary directory specified.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/export_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export processed absorbance and fluorescence data — export_data","text":"list processed data also saved output directory specified. list contains: eemlist: eemlist abslist: abslist readme: character vector containing information data processing steps meta: metadata associated samples, may NULL provided indices: list EEMs absorbance indices, may NULL provided eem_plot: list EEMs plots, may NULL provided abs_plot: ggplot2 object absorbance data, may NULL provided","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/export_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export processed absorbance and fluorescence data — export_data","text":"","code":"eem_plots <- plot(example_processed_eems) abs_plot <- plot(example_processed_abs)  indices <- get_indices(example_processed_eems, example_processed_abs) #> Warning: fluorescence MDL is missing, indices will not be checked for MDLs #> Warning: absorbance MDL is missing, indices will not be checked for MDLs #> Warning: tea check standard files are missing, check standards will not be checked against the long-term standard data <- export_data(   eemlist = example_processed_eems,   abslist = example_processed_abs,   filename = \"eemanalyzeR_example\",   indices = indices,   eem_plot = eem_plots,   abs_plot = abs_plot,   meta = metadata ) #> Data successfully exported to: /tmp/Rtmp9vgNdz/eemanalyzeR_example"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/flag_missing.html","id":null,"dir":"Reference","previous_headings":"","what":"QA/QC flags for missing data — flag_missing","title":"QA/QC flags for missing data — flag_missing","text":"Checks metric calculated may inaccurate due missing wavelengths required calculate metric.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/flag_missing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"QA/QC flags for missing data — flag_missing","text":"","code":"flag_missing(x, ex = NULL, em = NULL, wl = NULL, all = TRUE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/flag_missing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"QA/QC flags for missing data — flag_missing","text":"x eemlist, eem, abslist, abs object. ex vector excitation wavelengths required calculate index. needed x eemlist eem. em vector emission wavelengths required calculate index. needed x eemlist eem. wl vector wavelengths required calculate index. needed x abslist abs. TRUE index calculated wavelengths missing, returning \"DATA01\".","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/flag_missing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"QA/QC flags for missing data — flag_missing","text":"vector containing text flags NA values. Possible values: \"DATA_01\": Missing data required calculate index. \"DATA_02\": Missing wavelengths required calculate index; value may inaccurate. NA: missing data; flag needed.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/flag_missing.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"QA/QC flags for missing data — flag_missing","text":"","code":"# checking absorbance data # data exists flag_missing(example_abs, wl = 400) #> [1] NA NA NA NA  # data doesn't exist flag_missing(example_abs, wl = 100) #> [1] \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\"  # some data exists, still calculate flag_missing(example_abs, wl = 100:254, all = FALSE) #> [1] \"DATA02\" \"DATA02\" \"DATA02\" \"DATA02\"  # checking fluorescence data # data exists flag_missing(example_eems, ex = 270:280, em = 300:320) #> [1] NA NA NA NA NA NA NA NA  # data doesn't exist flag_missing(example_eems, ex = 100:150, em = 300:320) #> [1] \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\" \"DATA01\"  # some data exists, still calculate flag_missing(example_eems, ex = 100:350, em = 300:320, all = FALSE) #> [1] \"DATA02\" \"DATA02\" \"DATA02\" \"DATA02\" \"DATA02\" \"DATA02\" \"DATA02\" \"DATA02\""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/format_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Format index and flag data — format_index","title":"Format index and flag data — format_index","text":"Combines index values, QA/QC flags, sample metadata clean data.frame processing. values flagged \"MDL01\" (detection limit) removed reported.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/format_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format index and flag data — format_index","text":"","code":"format_index(x, index, value, flag)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/format_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format index and flag data — format_index","text":"x eemlist abslist object. index character string giving name index. value Index values. Use get_fluorescence() get_absorbance() generate values. flag Flag values, length value.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/format_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format index and flag data — format_index","text":"data frame four columns: sample_name: sample name meta_name: sample name metadata (provided), otherwise repeats sample_name index: name index value: index value (MDL01 values removed)","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/format_index.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format index and flag data — format_index","text":"","code":"ex <- 240:260 em <- 300:320  vals <- get_fluorescence(example_eems, ex, em, stat = \"max\") flags <- flag_missing(example_eems, ex = ex, em = em, all = FALSE)  index_formatted <- format_index(   x = example_eems,   index = \"test_index\",   value = vals,   flag = flags )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_abs_slope.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate spectral slopes — get_abs_slope","title":"Calculate spectral slopes — get_abs_slope","text":"Computes spectral slope values using staRdom::abs_fit_slope(), including interpolation, absorption calculation, QA/QC flagging missing wavelengths.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_abs_slope.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate spectral slopes — get_abs_slope","text":"","code":"get_abs_slope(abs, lim, cuvle = 1)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_abs_slope.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate spectral slopes — get_abs_slope","text":"abs abs abslist object. lim numeric vector length two giving lower upper wavelength limits used calculate slope. cuvle Cuvette (path) length cm.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_abs_slope.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate spectral slopes — get_abs_slope","text":"vector spectral slope values, one per sample abslist. slope calculated, function returns \"DATA04\".","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_abs_slope.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate spectral slopes — get_abs_slope","text":"","code":"S275_295 <- get_abs_slope(example_abs, lim = c(275, 295))"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_absorbance.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract absorbance at a given wavelength — get_absorbance","title":"Extract absorbance at a given wavelength — get_absorbance","text":"Returns absorbance value specified wavelength, reported cm-1. Optionally calculates specific absorbance (SUVA), reported m-1.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_absorbance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract absorbance at a given wavelength — get_absorbance","text":"","code":"get_absorbance(abs, wl, cuvle = 1, suva = FALSE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_absorbance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract absorbance at a given wavelength — get_absorbance","text":"abs `abs` `abslist` object. wl vector absorbance wavelengths. cuvle Cuvette (path) length cm. suva `TRUE`, returns specific absorbance (SUVA).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_absorbance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract absorbance at a given wavelength — get_absorbance","text":"vector absorbance (specific absorbance) values. value extracted, \"DOC01\" returned.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_absorbance.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract absorbance at a given wavelength — get_absorbance","text":"metadata present, SUVA calculated `NA` returned. add metadata, use [add_metadata()]. wavelength requested absorbance data, interpolated first using [abs_interp()].","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_absorbance.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract absorbance at a given wavelength — get_absorbance","text":"","code":"abslist <- add_metadata(metadata, example_abs)  a254 <- get_absorbance(abslist, 254) suva254 <- get_absorbance(abslist, 254, suva = TRUE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_fluorescence.html","id":null,"dir":"Reference","previous_headings":"","what":"Get fluorescence within a specified range — get_fluorescence","title":"Get fluorescence within a specified range — get_fluorescence","text":"Gets fluorescence within range excitation emission wavelengths returns either maximum value sum across range. Missing values interpolated using pracma::interp2().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_fluorescence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get fluorescence within a specified range — get_fluorescence","text":"","code":"get_fluorescence(eem, ex, em, stat = \"max\", norm = FALSE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_fluorescence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get fluorescence within a specified range — get_fluorescence","text":"eem eem eemlist object. ex vector excitation wavelengths. em vector emission wavelengths. stat string specifying statistic return: \"max\": return maximum value (default) \"sum\": return sum values norm Logical. TRUE, divides index value DOC concentration. Metadata must added using add_metadata(), otherwise NA returned.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_fluorescence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get fluorescence within a specified range — get_fluorescence","text":"numeric vector fluorescence values. Returns NA values extracted.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_fluorescence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get fluorescence within a specified range — get_fluorescence","text":"","code":"pA <- get_fluorescence(example_eems, ex = 250:260, em = 380:480) pD <- get_fluorescence(example_eems, ex = 390, em = 509)  pA_sum <- get_fluorescence(   example_eems,   ex = 250:260,   em = 380:480,   stat = \"sum\" )  eemlist <- add_metadata(metadata, example_eems)  pA_docnorm <- get_fluorescence(   eemlist,   ex = 250:260,   em = 380:480,   norm = TRUE )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":null,"dir":"Reference","previous_headings":"","what":"Get fluorescence and absorbance indices — get_indices","title":"Get fluorescence and absorbance indices — get_indices","text":"Calculates commonly used indices absorbance excitation–emission matrix (EEM) data. Also checks flags index values potential issues.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get fluorescence and absorbance indices — get_indices","text":"","code":"get_indices(   eemlist,   abslist,   index_method = \"eemanalyzeR\",   tolerance = 0.2,   return = \"wide\",   cuvle = 1,   qaqc_dir = NA,   arg_names = NULL )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get fluorescence and absorbance indices — get_indices","text":"eemlist eemlist object. abslist abslist object. index_method Either \"eemanalyzeR\", \"eemR\", \"usgs\", custom function. See Details. tolerance Maximum percent deviation check standard can vary long-term values without flagged. return Output format: \"long\" \"wide\". cuvle Cuvette (path) length cm. qaqc_dir File path QAQC files generated create_mdl() create_std(). Default user-specific data directory rappdirs::user_data_dir(). arg_names Optional list arguments passed higher-level functions README generation.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get fluorescence and absorbance indices — get_indices","text":"list two data frames: eem_index: fluorescence indices abs_index: absorbance indices","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":"long-format","dir":"Reference","previous_headings":"","what":"Long format","title":"Get fluorescence and absorbance indices — get_indices","text":"return = \"long\", data frame includes: sample_name: sample ID meta_name: sample name metadata (sample_name missing) index: index name value: index value QAQC_flag: associated flags","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":"wide-format","dir":"Reference","previous_headings":"","what":"Wide format","title":"Get fluorescence and absorbance indices — get_indices","text":"return = \"wide\", row corresponds sample, columns represent indices. Flags appear: alone, numeric value returned form VALUE_FLAG value exists","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":"index-methods","dir":"Reference","previous_headings":"","what":"Index methods","title":"Get fluorescence and absorbance indices — get_indices","text":"Three preset index sets available: eemanalyzeR: eemanalyzeR_indices() eemR: eemR_indices() usgs: usgs_indices() may also pass custom index-generating function. See vignette(\"custom-indices\") instructions.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":"qa-qc-flags","dir":"Reference","previous_headings":"","what":"QA/QC flags","title":"Get fluorescence and absorbance indices — get_indices","text":"Index values checked common issues. Flags include: DATA01: Missing data required calculation DATA02: Missing required wavelengths; value may inaccurate DATA03: Ratio denominator zero DATA04: Spectral slope calculated DOC01: Missing dissolved organic carbon (DOC) data INF01: Infinite value MDL01: values MDL MDL02: One values MDL; use cautiously MDL03: Ratio index numerator denominator entirely MDL NEG01: Negative value STD01: Check standard value outside tolerance VAL01: Value typical range VAL02: Value typical range","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get fluorescence and absorbance indices — get_indices","text":"","code":"indices <- get_indices(   example_processed_eems,   example_processed_abs,   qaqc_dir = system.file(\"extdata\", package = \"eemanalyzeR\") )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices_function.html","id":null,"dir":"Reference","previous_headings":"","what":"Get function to generate fluorescence and absorbance indices — get_indices_function","title":"Get function to generate fluorescence and absorbance indices — get_indices_function","text":"Returns either user-supplied custom function one preset index generators.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices_function.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get function to generate fluorescence and absorbance indices — get_indices_function","text":"","code":"get_indices_function(index_method = \"eemanalyzeR\")"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices_function.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get function to generate fluorescence and absorbance indices — get_indices_function","text":"index_method Either \"eemanalyzeR\", \"eemR\", \"usgs\", custom function.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices_function.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get function to generate fluorescence and absorbance indices — get_indices_function","text":"function used generate indices.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_indices_function.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get function to generate fluorescence and absorbance indices — get_indices_function","text":"Preset methods correspond following functions: eemanalyzeR: eemanalyzeR_indices() eemR: eemR_indices() usgs: usgs_indices()","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_ratios.html","id":null,"dir":"Reference","previous_headings":"","what":"Safely return ratios values — get_ratios","title":"Safely return ratios values — get_ratios","text":"Computes ratio returns either calculated value QA/QC flag ratio computed.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_ratios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Safely return ratios values — get_ratios","text":"","code":"get_ratios(val1, val2)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_ratios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Safely return ratios values — get_ratios","text":"val1 Numerator value(s); may single value vector. val2 Denominator value(s); may single value vector.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_ratios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Safely return ratios values — get_ratios","text":"numeric ratio possible, otherwise character QA/QC flag.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_ratios.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Safely return ratios values — get_ratios","text":"following conditions checked returning value: DATA_01: Missing data required calculate index DATA_03: Denominator zero, ratio calculated","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_ratios.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Safely return ratios values — get_ratios","text":"","code":"# Calculate the ratio of Peak A to Peak T pA <- get_fluorescence(example_eems, ex = 250:260, em = 380:480) pT <- get_fluorescence(example_eems, ex = 270:280, em = 320:350) rAT <- get_ratios(pA, pT)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_sample_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract components from an eemlist or abslist — get_sample_info","title":"Extract components from an eemlist or abslist — get_sample_info","text":"Helper function building eemR::eem_names(). Extracts specified component eem abs object.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_sample_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract components from an eemlist or abslist — get_sample_info","text":"","code":"get_sample_info(x, info)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_sample_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract components from an eemlist or abslist — get_sample_info","text":"x eemlist, eem, abslist, abs object. info name component extract. See eemR::eem base eem component names, abs_read() base abs component names, add_metadata() extended eem abs metadata fields.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_sample_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract components from an eemlist or abslist — get_sample_info","text":"x eemlist abslist: x eemlist abslist, returned structure depends type requested component (info): vector length 1: returns vector one value per sample vector length >1: returns matrix (samples columns) matrix: returns list matrices (one per sample) matrix x abslist: returns matrix (samples columns) x single eem abs object, corresponding component returned -, preserving class structure.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/get_sample_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract components from an eemlist or abslist — get_sample_info","text":"","code":"# Get sample names get_sample_info(example_eems, \"sample\") #> [1] \"B1S1ExampleBlankBEM\"                 \"B1S1ExampleBlankSEM\"                 #> [3] \"B1S2ExampleTeaStdBEM\"                \"B1S2ExampleTeaStdSEM\"                #> [5] \"B1S3ExampleSampleBEM\"                \"B1S3ExampleSampleSEM\"                #> [7] \"ManualExampleTeaWaterfallPlotBlank\"  \"ManualExampleTeaWaterfallPlotSample\" get_sample_info(example_abs, \"sample\") #> [1] \"B1S1ExampleBlankABS\"              \"B1S2ExampleTeaStdABS\"             #> [3] \"B1S3ExampleSampleABS\"             \"ManualExampleTeaAbsSpectraGraphs\"  # Get analysis dates (metadata required) eemlist <- add_metadata(metadata, example_eems) get_sample_info(eemlist, \"analysis_date\") #> [1] \"2022-11-14 PST\" \"2022-11-14 PST\" \"2022-11-14 PST\" \"2022-11-14 PST\" #> [5] \"2022-11-14 PST\" \"2022-11-14 PST\" \"2022-08-05 PDT\" \"2022-08-05 PDT\"  # Get DOC for the fifth sample get_sample_info(eemlist[[5]], \"doc_mgL\") #> [1] 1.94  # Get emission wavelengths get_sample_info(example_eems, \"em\") #>       B1S1ExampleBlankBEM B1S1ExampleBlankSEM B1S2ExampleTeaStdBEM #>  [1,]             247.926             247.926              247.926 #>  [2,]             261.377             261.377              261.377 #>  [3,]             274.861             274.861              274.861 #>  [4,]             288.379             288.379              288.379 #>  [5,]             301.930             301.930              301.930 #>  [6,]             315.513             315.513              315.513 #>  [7,]             329.127             329.127              329.127 #>  [8,]             342.773             342.773              342.773 #>  [9,]             356.449             356.449              356.449 #> [10,]             370.155             370.155              370.155 #> [11,]             383.891             383.891              383.891 #> [12,]             397.656             397.656              397.656 #> [13,]             411.449             411.449              411.449 #> [14,]             425.269             425.269              425.269 #> [15,]             439.117             439.117              439.117 #> [16,]             452.991             452.991              452.991 #> [17,]             466.891             466.891              466.891 #> [18,]             480.816             480.816              480.816 #> [19,]             494.766             494.766              494.766 #> [20,]             508.740             508.740              508.740 #> [21,]             522.737             522.737              522.737 #> [22,]             536.756             536.756              536.756 #> [23,]             550.798             550.798              550.798 #> [24,]             564.860             564.860              564.860 #> [25,]             578.943             578.943              578.943 #> [26,]             593.046             593.046              593.046 #> [27,]             607.168             607.168              607.168 #> [28,]             621.308             621.308              621.308 #> [29,]             635.466             635.466              635.466 #> [30,]             649.641             649.641              649.641 #> [31,]             663.832             663.832              663.832 #> [32,]             678.038             678.038              678.038 #> [33,]             692.258             692.258              692.258 #> [34,]             706.493             706.493              706.493 #> [35,]             720.740             720.740              720.740 #> [36,]             735.000             735.000              735.000 #> [37,]             749.271             749.271              749.271 #> [38,]             763.552             763.552              763.552 #> [39,]             777.843             777.843              777.843 #> [40,]             792.144             792.144              792.144 #> [41,]             806.452             806.452              806.452 #> [42,]             820.768             820.768              820.768 #>       B1S2ExampleTeaStdSEM B1S3ExampleSampleBEM B1S3ExampleSampleSEM #>  [1,]              247.926              247.926              247.926 #>  [2,]              261.377              261.377              261.377 #>  [3,]              274.861              274.861              274.861 #>  [4,]              288.379              288.379              288.379 #>  [5,]              301.930              301.930              301.930 #>  [6,]              315.513              315.513              315.513 #>  [7,]              329.127              329.127              329.127 #>  [8,]              342.773              342.773              342.773 #>  [9,]              356.449              356.449              356.449 #> [10,]              370.155              370.155              370.155 #> [11,]              383.891              383.891              383.891 #> [12,]              397.656              397.656              397.656 #> [13,]              411.449              411.449              411.449 #> [14,]              425.269              425.269              425.269 #> [15,]              439.117              439.117              439.117 #> [16,]              452.991              452.991              452.991 #> [17,]              466.891              466.891              466.891 #> [18,]              480.816              480.816              480.816 #> [19,]              494.766              494.766              494.766 #> [20,]              508.740              508.740              508.740 #> [21,]              522.737              522.737              522.737 #> [22,]              536.756              536.756              536.756 #> [23,]              550.798              550.798              550.798 #> [24,]              564.860              564.860              564.860 #> [25,]              578.943              578.943              578.943 #> [26,]              593.046              593.046              593.046 #> [27,]              607.168              607.168              607.168 #> [28,]              621.308              621.308              621.308 #> [29,]              635.466              635.466              635.466 #> [30,]              649.641              649.641              649.641 #> [31,]              663.832              663.832              663.832 #> [32,]              678.038              678.038              678.038 #> [33,]              692.258              692.258              692.258 #> [34,]              706.493              706.493              706.493 #> [35,]              720.740              720.740              720.740 #> [36,]              735.000              735.000              735.000 #> [37,]              749.271              749.271              749.271 #> [38,]              763.552              763.552              763.552 #> [39,]              777.843              777.843              777.843 #> [40,]              792.144              792.144              792.144 #> [41,]              806.452              806.452              806.452 #> [42,]              820.768              820.768              820.768 #>       ManualExampleTeaWaterfallPlotBlank ManualExampleTeaWaterfallPlotSample #>  [1,]                            247.926                             247.926 #>  [2,]                            261.377                             261.377 #>  [3,]                            274.861                             274.861 #>  [4,]                            288.379                             288.379 #>  [5,]                            301.930                             301.930 #>  [6,]                            315.513                             315.513 #>  [7,]                            329.127                             329.127 #>  [8,]                            342.773                             342.773 #>  [9,]                            356.449                             356.449 #> [10,]                            370.155                             370.155 #> [11,]                            383.891                             383.891 #> [12,]                            397.656                             397.656 #> [13,]                            411.449                             411.449 #> [14,]                            425.269                             425.269 #> [15,]                            439.117                             439.117 #> [16,]                            452.991                             452.991 #> [17,]                            466.891                             466.891 #> [18,]                            480.816                             480.816 #> [19,]                            494.766                             494.766 #> [20,]                            508.740                             508.740 #> [21,]                            522.737                             522.737 #> [22,]                            536.756                             536.756 #> [23,]                            550.798                             550.798 #> [24,]                            564.860                             564.860 #> [25,]                            578.943                             578.943 #> [26,]                            593.046                             593.046 #> [27,]                            607.168                             607.168 #> [28,]                            621.308                             621.308 #> [29,]                            635.466                             635.466 #> [30,]                            649.641                             649.641 #> [31,]                            663.832                             663.832 #> [32,]                            678.038                             678.038 #> [33,]                            692.258                             692.258 #> [34,]                            706.493                             706.493 #> [35,]                            720.740                             720.740 #> [36,]                            735.000                             735.000 #> [37,]                            749.271                             749.271 #> [38,]                            763.552                             763.552 #> [39,]                            777.843                             777.843 #> [40,]                            792.144                             792.144 #> [41,]                            806.452                             806.452 #> [42,]                            820.768                             820.768  # Get absorbance matrices get_sample_info(example_abs, \"data\") #>       wavelength B1S1ExampleBlankABS B1S2ExampleTeaStdABS B1S3ExampleSampleABS #>  [1,]        800       -5.159226e-04        -0.0004515708        -6.817526e-04 #>  [2,]        782       -2.866544e-04        -0.0004109280        -3.917007e-04 #>  [3,]        764       -2.623151e-04        -0.0001636134        -3.390983e-04 #>  [4,]        746       -2.438180e-04        -0.0001635021        -3.451140e-04 #>  [5,]        728       -3.313270e-04        -0.0001709267        -3.289143e-04 #>  [6,]        710       -3.320521e-04        -0.0001744385        -3.338520e-04 #>  [7,]        692       -2.233652e-04         0.0001218914        -2.515936e-04 #>  [8,]        674       -2.889754e-04         0.0001009222        -2.930024e-04 #>  [9,]        656       -2.157825e-04         0.0002865178        -1.069766e-04 #> [10,]        638       -3.177077e-04         0.0004571561        -9.742920e-05 #> [11,]        620       -2.680614e-04         0.0007650145         7.032944e-05 #> [12,]        602       -2.610357e-04         0.0010128013         8.132194e-05 #> [13,]        584       -2.801025e-04         0.0012534304         2.479742e-04 #> [14,]        566       -3.259266e-04         0.0017388290         4.515472e-04 #> [15,]        548       -3.439060e-04         0.0022038420         6.527317e-04 #> [16,]        530       -3.227062e-04         0.0027508391         8.566349e-04 #> [17,]        512       -1.986868e-04         0.0037244471         1.330727e-03 #> [18,]        494       -3.458261e-04         0.0045452665         1.671009e-03 #> [19,]        476       -2.721901e-04         0.0054627220         2.192753e-03 #> [20,]        458       -2.250869e-04         0.0065568952         2.942494e-03 #> [21,]        440       -9.408553e-05         0.0078335564         4.096117e-03 #> [22,]        422       -2.703132e-04         0.0094138691         5.458233e-03 #> [23,]        404       -1.207382e-04         0.0126933343         7.669474e-03 #> [24,]        386       -5.420606e-05         0.0211561021         1.070529e-02 #> [25,]        368       -4.986032e-05         0.0351644121         1.479284e-02 #> [26,]        350        1.219096e-05         0.0477197511         2.029181e-02 #> [27,]        332       -2.762839e-05         0.0550182503         2.753943e-02 #> [28,]        314        3.436922e-05         0.0657055086         3.658907e-02 #> [29,]        296        2.535241e-04         0.0940748529         4.818673e-02 #> [30,]        278        2.360315e-04         0.1675592769         6.209513e-02 #> [31,]        260        4.379509e-04         0.1628521827         7.422239e-02 #> [32,]        242        7.697076e-04         0.1639415528         9.350592e-02 #>       ManualExampleTeaAbsSpectraGraphs #>  [1,]                     0.0002680016 #>  [2,]                     0.0003347789 #>  [3,]                     0.0003122303 #>  [4,]                     0.0002817973 #>  [5,]                     0.0004467719 #>  [6,]                     0.0006674719 #>  [7,]                     0.0008737636 #>  [8,]                     0.0011253695 #>  [9,]                     0.0012638744 #> [10,]                     0.0014452115 #> [11,]                     0.0018721454 #> [12,]                     0.0022920237 #> [13,]                     0.0028266211 #> [14,]                     0.0034853210 #> [15,]                     0.0043115060 #> [16,]                     0.0053373430 #> [17,]                     0.0067983761 #> [18,]                     0.0084813808 #> [19,]                     0.0101462575 #> [20,]                     0.0119006147 #> [21,]                     0.0139972791 #> [22,]                     0.0168328685 #> [23,]                     0.0222512515 #> [24,]                     0.0369873264 #> [25,]                     0.0619878388 #> [26,]                     0.0854833096 #> [27,]                     0.1012089510 #> [28,]                     0.1231072027 #> [29,]                     0.1784013559 #> [30,]                     0.3196290397 #> [31,]                     0.3045211712 #> [32,]                     0.2937214087"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/ife_correct.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform inner-filter correction on EEM data — ife_correct","title":"Perform inner-filter correction on EEM data — ife_correct","text":"Wrapper around eemR::eem_inner_filter_effect() supports augmented eemlist structure used package. Unlike base function, version automatically trims EEM wavelengths match available absorbance data instead returning error.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/ife_correct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform inner-filter correction on EEM data — ife_correct","text":"","code":"ife_correct(eemlist, abslist, cuvle = 1, arg_names = NULL)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/ife_correct.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Perform inner-filter correction on EEM data — ife_correct","text":"Massicotte P. (2019). eemR: Tools Pre-Processing Emission-Excitation-Matrix (EEM) Fluorescence Data. R package version 1.0.1. https://CRAN.R-project.org/package=eemR","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/ife_correct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform inner-filter correction on EEM data — ife_correct","text":"eemlist eemlist object. abslist abslist object. cuvle Cuvette (path) length cm. arg_names Optional list arguments passed higher-level functions README generation.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/ife_correct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform inner-filter correction on EEM data — ife_correct","text":"eemlist inner-filter–corrected EEMs.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/ife_correct.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Perform inner-filter correction on EEM data — ife_correct","text":"Inner-filter correction requires linking EEM corresponding absorbance spectrum. function uses metadata name field pair samples, metadata must added beforehand using add_metadata().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/ife_correct.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform inner-filter correction on EEM data — ife_correct","text":"","code":"eemlist <- add_metadata(metadata, example_eems) abslist <- add_metadata(metadata, example_abs) correct_eem <- ife_correct(eemlist, abslist)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/indice_ranges.html","id":null,"dir":"Reference","previous_headings":"","what":"Standard ranges for absorbance and EEMs indices — indice_ranges","title":"Standard ranges for absorbance and EEMs indices — indice_ranges","text":"data.frame containing minimum maximum range expected index values generated using get_indices(). Used flag indices warrant examination ensure accuracy.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/indice_ranges.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standard ranges for absorbance and EEMs indices — indice_ranges","text":"","code":"indice_ranges"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/indice_ranges.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Standard ranges for absorbance and EEMs indices — indice_ranges","text":"data.frame 62 rows 5 columns: index_method: index method used calculate index index: Name index metric calculated low_val: Minimum value expected based literature sources high_val: Maximum value expected based literature sources source: Sources used determine minimum maximum values","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/indice_ranges.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Standard ranges for absorbance and EEMs indices — indice_ranges","text":"Fischer, S. J., Fegel, T. S., Wilkerson, P. J., Rivera, L., Rhoades, C. C., & Rosario-Ortiz, F. L. (2023). Fluorescence Absorbance Indices Dissolved Organic Matter Wildfire Ash Burned Watersheds. ACS ES&T Water, 3(8), 2199-2209. https://doi.org/10.1021/acsestwater.3c00017 Galgani, L., Engel, ., Rossi, C., Donati, ., & Loiselle, S. . (2018). Polystyrene microplastics increase microbial release marine Chromophoric Dissolved Organic Matter microcosm experiments. Scientific Reports, 8(1), 14635. https://doi.org/10.1038/s41598-018-32805-4 Hansen, . M., Kraus, T. E. C., Pellerin, B. ., Fleck, J. ., Downing, B. D., & Bergamaschi, B. . (2016). Optical properties dissolved organic matter (DOM): Effects biological photolytic degradation. Limnology Oceanography, 61(3), 1015-1032. https://doi.org/10.1002/lno.10270 Hansen, . M., Fleck, J., Kraus, T. E. C., Downing, B. D., von Dessonneck, T., & Bergamaschi, B. (2018). Procedures using Horiba Scientific Aqualog® fluorometer measure absorbance fluorescence dissolved organic matter (USGS Numbered Series . 2018-1096). Procedures using Horiba Scientific Aqualog® fluorometer measure absorbance fluorescence dissolved organic matter (Vol. 2018-1096). Reston, VA: U.S. Geological Survey. https://doi.org/10.3133/ofr20181096 Helms, J. R., Stubbins, ., Ritchie, J. D., Minor, E. C., Kieber, D. J., & Mopper, K. (2008). Absorption spectral slopes slope ratios indicators molecular weight, source, photobleaching chromophoric dissolved organic matter. Limnology Oceanography, 53(3), 955-969. https://doi.org/10.4319/lo.2008.53.3.0955 Korak, J. ., & McKay, G. (2024). Meta-Analysis Optical Surrogates Characterization Dissolved Organic Matter. Environmental Science & Technology, 58(17), 7380-7392. https://doi.org/10.1021/acs.est.3c10627 Li, Y., Zhang, Y., Li, Z., Wan, J., Dang, C., & Fu, J. (2022). Characterization colored dissolved organic matter northeastern South China Sea using EEMs-PARAFAC absorption spectroscopy. Journal Sea Research, 180, 102159. https://doi.org/10.1016/j.seares.2021.102159 Meingast, K. M., Kane, E. S., Marcarelli, . M., Wagenbrenner, J. W., & Beltrone, V. G. (2023). Seasonal trends DOM character soils stream change snowmelt timing. Water Resources Research. 59(3): e2022WR032014. https://doi.org/10.1029/2022WR032014 Peuravuori, J., & Pihlaja, K. (1997). Molecular size distribution spectroscopic properties aquatic humic substances. Analytica Chimica Acta, 337(2), 133-149. https://doi.org/10.1016/S0003-2670(96)00412-6 Weishaar, J. L., Aiken, G. R., Bergamaschi, B. ., Fram, M. S., Fujii, R., & Mopper, K. (2003). Evaluation Specific Ultraviolet Absorbance Indicator Chemical Composition Reactivity Dissolved Organic Carbon. Environmental Science & Technology, 37(20), 4702-4708. https://doi.org/10.1021/es030360x Zalba, P., Amiotti ,Nilda M., Galantini ,Juan ., & Pistola, S. (2016). Soil Humic Fulvic Acids Different Land-Use Systems Evaluated E4/E6 Ratios. Communications Soil Science Plant Analysis, 47(13-14), 1675-1679. https://doi.org/10.1080/00103624.2016.1206558 Zsolnay, ., Baigar, E., Jimenez, M., Steinweg, B., & Saccomandi, F. (1999). Differentiating fluorescence spectroscopy sources dissolved organic matter soils subjected drying. Chemosphere, 38(1), 45-50. https://doi.org/10.1016/S0045-6535(98)00166-0","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/list_config.html","id":null,"dir":"Reference","previous_headings":"","what":"List current eemanalyzeR configuration — list_config","title":"List current eemanalyzeR configuration — list_config","text":"Returns named list configuration options eemanalyzeR data processing.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/list_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List current eemanalyzeR configuration — list_config","text":"","code":"list_config(env = .pkgenv)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/list_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List current eemanalyzeR configuration — list_config","text":"env environment search configuration settings. Defaults package environment (.pkgenv). unlikely user change default unless debugging custom processing scripts.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/list_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List current eemanalyzeR configuration — list_config","text":"named list configuration setting names values.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/list_config.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"List current eemanalyzeR configuration — list_config","text":"eemanalyzeR allows user control data processing via configuration settings modify various steps automated data processing code. function allows user see values processing configuration current processing environment. Note: configuration resets either package defaults (stored package data eemanalyzeR-config.yaml) user's default settings (stored separate yaml file user's computer) package re-loaded (via library(eemanalyzeR))","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/list_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List current eemanalyzeR configuration — list_config","text":"","code":"# Get current configuration options current_settings <- list_config()"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_check.html","id":null,"dir":"Reference","previous_headings":"","what":"Run tests to validate metadata — meta_check","title":"Run tests to validate metadata — meta_check","text":"Runs series checks identify missing malformed metadata corrects issues possible. Ensures column formats conform expectations.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_check.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run tests to validate metadata — meta_check","text":"","code":"meta_check(meta)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_check.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run tests to validate metadata — meta_check","text":"meta data.frame containing sample metadata.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_check.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run tests to validate metadata — meta_check","text":"corrected metadata data.frame formatting issues resolved possible.","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_check.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run tests to validate metadata — meta_check","text":"","code":"metadata <- meta_read(system.file(\"extdata\", package = \"eemanalyzeR\")) #> No Meta file specified, using: #> /home/runner/work/_temp/Library/eemanalyzeR/extdata/metadata_example.csv metadata <- eemanalyzeR:::meta_check(metadata)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Read metadata from a file — meta_read","title":"Read metadata from a file — meta_read","text":"Reads .csv .xlsx file containing metadata absorbance EEM data. See metadata required columns structure.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read metadata from a file — meta_read","text":"","code":"meta_read(input_dir, meta_file = NA, sheet = NA, validate_metadata = TRUE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read metadata from a file — meta_read","text":"input_dir Path metadata file folder containing . meta_file Optional: Filename metadata file. left NA, metadata file guessed files input directory. sheet Name sheet containing metadata (required metadata first sheet .xlsx file). validate_metadata Logical. TRUE, checks metadata structural issues cause problems processing. Recommended keep TRUE.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read metadata from a file — meta_read","text":"data.frame containing sample metadata.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/meta_read.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read metadata from a file — meta_read","text":"","code":"metadata <- meta_read(system.file(\"extdata\", package = \"eemanalyzeR\")) #> No Meta file specified, using: #> /home/runner/work/_temp/Library/eemanalyzeR/extdata/metadata_example.csv"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Example metadata — metadata","title":"Example metadata — metadata","text":"Metadata associated samples example_eems() example_abs(). Provides example structure requirements metadata needed run samples.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example metadata — metadata","text":"","code":"metadata"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/metadata.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example metadata — metadata","text":"data.frame 4 rows 11 columns: index: Numeric order entry (e.g., 1, 2, 3, etc.) analysis_date: Optional, date samples run instrument (collected field) description: Optional, brief description sample collected data_identifier: REQUIRED, file name aqualog, must match exactly replicate_no: REQUIRED, number indicating sample replicated; unreplicated = 1 integration_time_s: REQUIRED, integration time sample (e.g., 1, 2, etc.) dilution: REQUIRED, dilution factor decimal (e.g., 0.5 2-fold dilution); 1 dilution RSU_area_1s: REQUIRED, RSU Adjust Area Raman test normalization sample_type: Optional, flag (sample, sblank, check) run_type: Optional, samples run (manual sampleQ) collect_date: Optional, date water samples collected DOC_mg_L: Optional, DOC concentration mg/L original sample Notes: Optional, notes collection running","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/metadata.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example metadata — metadata","text":"Oregon State University Forest Ecohydrology Watershed Sciences Lab (2022-11-14)","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/modify_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Modify the eemanalyzeR configuration settings — modify_config","title":"Modify the eemanalyzeR configuration settings — modify_config","text":"Allows user modify configuration settings affect data processing remainder current processing session (.e. package reloaded via `library(eemanalyzeR)` R restarted)","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/modify_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modify the eemanalyzeR configuration settings — modify_config","text":"","code":"modify_config(..., env = .pkgenv)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/modify_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modify the eemanalyzeR configuration settings — modify_config","text":"... names settings user wishes modify new values. NOTE: MUST named arguments, otherwise modification settings fail. env environment configuration settings stored. Defaults package environment. Note: recommend user modifies argument.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/modify_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Modify the eemanalyzeR configuration settings — modify_config","text":"Invisible returns named list new defaults, function called mostly          side effects.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/modify_config.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Modify the eemanalyzeR configuration settings — modify_config","text":"two ways user can provide name-value pairs settings want modify. first useful way provide named arguments directly function via ... variable arguments. user provide arguments name = value separated commas multiple settings changed time Another option provide named list name = value pairs. case named list MUST prefixed `!!!` splice operator.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/modify_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Modify the eemanalyzeR configuration settings — modify_config","text":"","code":"# Modify the cuvette length to two centimeters modify_config(cuvle = 2)  # Two methods to modify multiple defaults # 1) via multiple named arugments modify_config(cuvle = 2, eem_skip = \"badeem\")  # 2) via a named list modifications <- list(cuvle = 2, eem_skip = \"badeem\") modify_config(!!!modifications)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Default plot methods for optical data with ggplot2 — plot","title":"Default plot methods for optical data with ggplot2 — plot","text":"Used make nice plot one multiple excitation emission matrices (EEMs) absorbance spectra using ggplot2.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default plot methods for optical data with ggplot2 — plot","text":"","code":"# S3 method for class 'eem' plot(   x,   nbin = 8,   equal_scale = FALSE,   pal = NULL,   title = \"none\",   remove_lower = FALSE,   annotate = FALSE,   index_method = \"eemanalyzeR\",   ... )  # S3 method for class 'eemlist' plot(   x,   nbin = 8,   equal_scale = FALSE,   pal = NULL,   remove_lower = FALSE,   title = \"none\",   annotate = FALSE,   index_method = \"eemanalyzeR\",   ... )  # S3 method for class 'abs' plot(x, pal = NULL, ...)  # S3 method for class 'abslist' plot(x, pal = NULL, ...)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default plot methods for optical data with ggplot2 — plot","text":"x eemlist, eem, abslist, abs object. nbin Number bins used contour plot. equal_scale Logical. TRUE, sets scale plots eemlist. pal Color palette fill scale. Defaults pals::parula(). fewer colors provided required, grDevices::colorRampPalette() used fill colors. title Either \"none\", \"meta_name\", \"sample\" indicates use plot title. remove_lower Logical. TRUE, sets values first-order Rayleigh line NA, can reduce artifacts affecting color scale. annotate Logical. TRUE, displays index regions EEM plots. index_method Either \"eemanalyzeR\", \"eemR\", \"usgs\". ... Additional arguments passed plot.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default plot methods for optical data with ggplot2 — plot","text":"x eem, abs, abslist: single ggplot2 object. x eemlist: list ggplot2 objects.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Default plot methods for optical data with ggplot2 — plot","text":"Single EEM plots return ggplot2 object, compatible ggplot2 modifications. Multiple EEMs return list ggplot2 objects, can individually modified. See examples usage.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/plot.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Default plot methods for optical data with ggplot2 — plot","text":"Slow plotting may due default graphics device. See https://forum.posit.co/t/graphics--working--rstudio/149111 guidance.","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Default plot methods for optical data with ggplot2 — plot","text":"","code":"eems <- example_processed_eems abs <- example_processed_abs  # plot just one eem/abs plot(eems[[3]])  plot(abs[[3]])   # plot all in an eemlist or abslist plots <- plot(eems) plots <- plot(abs)  # change color scale plot(eems, pal = c(\"darkblue\", \"lightblue\"))  # make color bar consistent across all plots plot(eems[2:4], equal_scale = TRUE)  # customize using ggplot2 commands plot(eems[[2]]) + ggplot2::labs(title = \"Test EEM\")  plot(eems)[[3]] + ggplot2::labs(title = \"Test EEM\")   # modify then arrange together plots <- plot(eems) plots[[3]] <- plots[[3]] + ggplot2::labs(title = \"Test EEM\") print(ggpubr::ggarrange(plotlist = plots))   # remove lower area below rayleigh line plots <- plot(eems, remove_lower = TRUE)  # annotate the plot with the peaks plot(eems[[3]], annotate = TRUE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/print_readme.html","id":null,"dir":"Reference","previous_headings":"","what":"Print `readme` — print_readme","title":"Print `readme` — print_readme","text":"Nicely print processing documentation readme file proper formatting. readme tracks processing steps applied dataset stored object called `readme` package environment.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/print_readme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print `readme` — print_readme","text":"","code":"print_readme()"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/print_readme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print `readme` — print_readme","text":"None (invisible NULL).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/print_readme.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print `readme` — print_readme","text":"","code":"print_readme() #> 2026-01-08 01:25 #> Data processed using eemanalyzeR 1.0.0 package in R. #> For details on processing steps, indices, and QA/QC flags see the package website: https://katiewampler.github.io/eemanalyzeR/articles/output-documentation.html #> ______________________________ #>  #> 2026-01-08 01:25:15: data was corrected for inner filter effects via 'ife_correct' function #>    function parameters: #> \t cuvle: 1 #>    warning: removed the following wavelengths in EEM's to match absorbance data wavelengths #> \texcitation:  #> \temission: 806.452 - 820.768 #>  #> 2026-01-08 01:25:14: Absorbance and fluorescence indices were calculated using the 'get_indices' function #>    function parameters: #> \t index_method: eemanalyzeR #> \t return: wide #> \t cuvle: 1 #> \t qaqc_dir: /home/runner/work/_temp/Library/eemanalyzeR/extdata #>  #> 2026-01-08 01:25:14: Fluorescence indices were checked against method detection limits (MDL) #> Absorbance indices were checked against method detection limits (MDL) #>  #> 2026-01-08 01:25:14: 0% (n=8) of the absorbance indices were greater than 20% of the long-term check standard #> 27% (n=22) of the fluorescence indices were greater than 20% of the long-term check standard #>"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/process_eem.html","id":null,"dir":"Reference","previous_headings":"","what":"Process and correct excitation–emission matrices (EEMs) — process_eem","title":"Process and correct excitation–emission matrices (EEMs) — process_eem","text":"Wrapper function combines multiple EEM processing steps streamlined workflow. processing steps include: subtract_blank(): subtracts blank samples EEMs remove_scattering(): removes scattering lines optional interpolation ife_correct(): corrects inner filter effects raman_normalize(): normalizes fluorescence intensity Raman units correct_dilution(): adjusts intensity sample dilutions eemR::eem_cut(): clips excitation–emission matrices region interest","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/process_eem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process and correct excitation–emission matrices (EEMs) — process_eem","text":"","code":"process_eem(   eemlist,   abslist,   ex_clip = c(247, 450),   em_clip = c(247, 600),   type = c(TRUE, TRUE, TRUE, TRUE),   width = c(16, 3, 30, 10),   interpolate = c(TRUE, TRUE, FALSE, FALSE),   method = 1,   cores = 1,   cuvle = 1 )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/process_eem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process and correct excitation–emission matrices (EEMs) — process_eem","text":"eemlist eemlist object. abslist abslist object. ex_clip Numeric vector length two specifying minimum maximum excitation wavelengths keep. em_clip Numeric vector length two specifying minimum maximum emission wavelengths keep. type Logical vector length four indicating scattering lines remove. order \"raman1\", \"raman2\", \"rayleigh1\", \"rayleigh2\". width Numeric vector length four specifying width scattering lines remove (nm). order type. interpolate Logical vector length four indicating scattering lines interpolate. order type. method Numeric (0–4) specifying interpolation method use. Default 1. See staRdom::eem_interp() details. cores Integer specifying number cores parallel computation interpolation. cuvle Cuvette (path) length cm.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/process_eem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process and correct excitation–emission matrices (EEMs) — process_eem","text":"eemlist object processed corrected EEMs.","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/process_eem.html","id":"metadata","dir":"Reference","previous_headings":"","what":"Metadata","title":"Process and correct excitation–emission matrices (EEMs) — process_eem","text":"Absorbance EEM data linked via meta_name metadata. Metadata must already added samples using add_metadata().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/process_eem.html","id":"tracking-processing-steps","dir":"Reference","previous_headings":"","what":"Tracking Processing Steps","title":"Process and correct excitation–emission matrices (EEMs) — process_eem","text":"Processing steps tracked two ways: sample attribute records processing steps. can view using attributes(eem). Overall processing steps recorded readme variable (accessible using print_readme()) exported readme.txt file using export_data().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/process_eem.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process and correct excitation–emission matrices (EEMs) — process_eem","text":"","code":"eemlist <- add_metadata(metadata, example_eems) abslist <- add_metadata(metadata, example_abs) blanklist <- subset_type(eemlist, \"iblank\") eemlist <- add_blanks(eemlist, blanklist) corrected_eem <- process_eem(eemlist, abslist) plot(corrected_eem)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/raman_normalize.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform Raman normalization of EEMs — raman_normalize","title":"Perform Raman normalization of EEMs — raman_normalize","text":"Normalizes fluorescence intensity EEMs Raman Units (R.U.) based area water Raman peak (Lawaetz Stedmon, 2009).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/raman_normalize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform Raman normalization of EEMs — raman_normalize","text":"","code":"raman_normalize(eemlist)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/raman_normalize.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Perform Raman normalization of EEMs — raman_normalize","text":"Lawaetz, . J., & Stedmon, C. . (2009). Fluorescence Intensity Calibration Using Raman Scatter Peak Water. Applied Spectroscopy, 63(8), 936-940. https://doi.org/10.1366/000370209788964548","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/raman_normalize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform Raman normalization of EEMs — raman_normalize","text":"eemlist eemlist object.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/raman_normalize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform Raman normalization of EEMs — raman_normalize","text":"eemlist object EEMs normalized Raman Units.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/raman_normalize.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Perform Raman normalization of EEMs — raman_normalize","text":"function uses Raman peak area provided metadata normalize EEMs. Therefore, metadata must added samples prior normalization using add_metadata().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/raman_normalize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform Raman normalization of EEMs — raman_normalize","text":"","code":"eemlist <- add_metadata(metadata, example_eems) correct_eem <- raman_normalize(eemlist)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/remove_scattering.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove Raman and Rayleigh scattering lines from EEMs — remove_scattering","title":"Remove Raman and Rayleigh scattering lines from EEMs — remove_scattering","text":"Raman Rayleigh scattering can interfere sample fluorescence signals. Raman scattering inelastic scattering caused interaction solvent, shifting longer wavelengths. Rayleigh scattering elastic scattering, light bounces molecules without energy loss, appearing 1:1 line often intense. Second-order Raman Rayleigh scattering may also occur due two-photon interactions doubling excitation wavelength.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/remove_scattering.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove Raman and Rayleigh scattering lines from EEMs — remove_scattering","text":"","code":"remove_scattering(   eemlist,   type = c(TRUE, TRUE, TRUE, TRUE),   width = c(16, 3, 30, 10),   interpolate = c(TRUE, TRUE, FALSE, FALSE),   method = 1,   cores = 1,   arg_names = NULL )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/remove_scattering.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove Raman and Rayleigh scattering lines from EEMs — remove_scattering","text":"eemlist eemlist object. type Logical vector length four indicating scattering lines remove. order \"raman1\", \"raman2\", \"rayleigh1\", \"rayleigh2\". Set TRUE remove. width Numeric vector length four specifying width (nm) scattering lines remove. Order \"raman1\", \"raman2\", \"rayleigh1\", \"rayleigh2\". interpolate Logical vector length four indicating scattering lines interpolate. Order \"raman1\", \"raman2\", \"rayleigh1\", \"rayleigh2\". method Numeric 0–4 specifying interpolation method (default = 1). See eem_interp(). cores Number cores parallel interpolation computation. arg_names Optional list arguments passed higher-level functions README generation.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/remove_scattering.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove Raman and Rayleigh scattering lines from EEMs — remove_scattering","text":"eemlist object specified scattering lines removed.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/remove_scattering.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Remove Raman and Rayleigh scattering lines from EEMs — remove_scattering","text":"function modified version staRdom::eem_rem_scat() staRdom package, allowing selective interpolation instead --nothing.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/remove_scattering.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Remove Raman and Rayleigh scattering lines from EEMs — remove_scattering","text":"Gilchrist, J. R., & Reynolds, D. M. (2014). Optical Spectroscopy Instrumentation Design, Quality Assurance, Control: Bench-Top Fluorimetry. . Baker, D. M. Reynolds, J. Lead, P. G. Coble, & R. G. M. Spencer (Eds.), Aquatic Organic Matter Fluorescence (pp. 147-189). Cambridge: Cambridge University Press. https://doi.org/10.1017/CBO9781139045452.009","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/remove_scattering.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove Raman and Rayleigh scattering lines from EEMs — remove_scattering","text":"","code":"# default settings (remove all, interpolate only raman lines) eemlist <- remove_scattering(example_eems) plot(eemlist[[6]])   # only remove only rayleigh lines eemlist <- remove_scattering(example_eems, type = c(FALSE, FALSE, TRUE, TRUE)) plot(eemlist[[6]])   # change the width of the lines eemlist <- remove_scattering(example_eems, width = c(16, 3, 100, 40)) plot(eemlist[[6]])"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset all eemanalyzeR settings to package defaults — reset_config","title":"Reset all eemanalyzeR settings to package defaults — reset_config","text":"Returns data processing configuration settings R session back package defaults.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset all eemanalyzeR settings to package defaults — reset_config","text":"","code":"reset_config(env = .pkgenv)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reset all eemanalyzeR settings to package defaults — reset_config","text":"env environment stores processing settings. Defaults package environment. recommended user modifies argument.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset all eemanalyzeR settings to package defaults — reset_config","text":"Invisibly returns reset default configuration settings named list.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_config.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Reset all eemanalyzeR settings to package defaults — reset_config","text":"allows user return data processing settings back default configuration eemanalyzeR package. defaults documented data.R \"default_config\". function provided case user needs return back default processing settings experimenting modifying settings using `modify_config`.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reset all eemanalyzeR settings to package defaults — reset_config","text":"","code":"# Reset the configuration back to package defaults reset_config()"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_user_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset all eemanalyzeR settings in the user configuration file to package defaults — reset_user_config","title":"Reset all eemanalyzeR settings in the user configuration file to package defaults — reset_user_config","text":"allows user overwrite data processing settings user configuration file back default configuration eemanalyzeR package. defaults documented data.R \"default_config\". function provided case user malformed configuration file wants revert back default processing settings experimenting modifying settings using `edit_user_config`.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_user_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset all eemanalyzeR settings in the user configuration file to package defaults — reset_user_config","text":"","code":"reset_user_config()"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_user_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset all eemanalyzeR settings in the user configuration file to package defaults — reset_user_config","text":"Invisibly returns reset default configuration settings named list.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/reset_user_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reset all eemanalyzeR settings in the user configuration file to package defaults — reset_user_config","text":"","code":"edit_user_config() #create a config file #> User configuration loaded from file: #> ~/.local/share/eemanalyzeR/user-config.yaml #> Changes to user configuration applied. reset_user_config() #reset config file #> User configuration reset. #> Find reset conifg at ~/.local/share/eemanalyzeR/user-config.yaml load_user_config() #load config file #> User configuration loaded from file: #> ~/.local/share/eemanalyzeR/user-config.yaml"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/run_eems.html","id":null,"dir":"Reference","previous_headings":"","what":"Load, clean, and process EEMs and absorbance data — run_eems","title":"Load, clean, and process EEMs and absorbance data — run_eems","text":"main high-level function eemanalyzeR package. designed users want fast, automated workflow without needing write complex R code string together bunch processing functions. pointing function folder raw EEMs absorbance data, function performs full processing pipeline start finish.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/run_eems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load, clean, and process EEMs and absorbance data — run_eems","text":"","code":"run_eems(   input_dir,   output_dir = NA,   filename = NA,   interactive = TRUE,   blanklist = NULL,   qaqc_checks = TRUE,   ... )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/run_eems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load, clean, and process EEMs and absorbance data — run_eems","text":"input_dir Path folder containing raw EEMs /absorbance files. output_dir Path save processed data. filename character string, used file names. interactive Logical, used determine user input used. blanklist eemlist blank files subtract samples. Automatically uses instrument blanks provided. qaqc_checks Logical, user QA/QC files used check data? ... additional arguments used make one time modifications processing arguments plotting (plot.eemlist). List optional arguments modify within processing located default_config. See details info modifying processing configuration.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/run_eems.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load, clean, and process EEMs and absorbance data — run_eems","text":"following files saved output directory specified. list contains: eemlist: eemlist abslist: abslist readme: character vector containing information data processing steps meta: metadata associated samples, may NULL provided indices: list EEMs absorbance indices, may NULL provided eem_plot: list EEMs plots, may NULL provided abs_plot: ggplot2 object absorbance data, may NULL provided","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/run_eems.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load, clean, and process EEMs and absorbance data — run_eems","text":"requirement use wrapper function process EEMs absorbance data input directory containing raw data files metadata spreadsheet. However, many optional arguments user modify EEMs absorbance processing. names default values arguments can found documentation default_config. four ways user use modify processing configuration defaults. Option 1: User change anything, package defaults used run_eems. Option 2: User creates file (stored computer) processing defaults eemanalyzeR pulls load time. created using edit_user_config() function. Option 3: User modifies defaults using run_eems function using modify_config() function. modifies settings R session applied data processing occurs package reloaded R session restarted. package reloaded defaults revert back package defaults (exist) user defaults. Option 4: User supplies arguments run_eems function modify processing run. configuration options persist across multiple tries run_eems must specified time, argument values reported readme file.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/run_eems.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Load, clean, and process EEMs and absorbance data — run_eems","text":"Currently run_eems allow custom import index functions.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/sub-.abslist.html","id":null,"dir":"Reference","previous_headings":"","what":"Subsetting using [ for an abslist — [.abslist","title":"Subsetting using [ for an abslist — [.abslist","text":"Subsetting using [ abslist","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/sub-.abslist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subsetting using [ for an abslist — [.abslist","text":"","code":"# S3 method for class 'abslist' abslist[i]"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/sub-.abslist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subsetting using [ for an abslist — [.abslist","text":"abslist abslist subset index subsetting","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/sub-.abslist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subsetting using [ for an abslist — [.abslist","text":"object class abslist","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/sub-.eemlist.html","id":null,"dir":"Reference","previous_headings":"","what":"Subsetting using [ for eemlist — [.eemlist","title":"Subsetting using [ for eemlist — [.eemlist","text":"Subsetting using [ eemlist","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/sub-.eemlist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subsetting using [ for eemlist — [.eemlist","text":"","code":"# S3 method for class 'eemlist' eemlist[i]"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/sub-.eemlist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subsetting using [ for eemlist — [.eemlist","text":"eemlist eemlist subset index subsetting","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/sub-.eemlist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subsetting using [ for eemlist — [.eemlist","text":"object class eemlist","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_samples.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset eemlist or abslist based on components — subset_samples","title":"Subset eemlist or abslist based on components — subset_samples","text":"Helper function select remove samples eemlist abslist using components beyond just sample name. Builds eemR::eem_extract().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_samples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset eemlist or abslist based on components — subset_samples","text":"","code":"subset_samples(   x,   info,   sample,   keep = FALSE,   ignore_case = FALSE,   verbose = TRUE )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_samples.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset eemlist or abslist based on components — subset_samples","text":"x eemlist abslist object. info Name component within eem abs extract. See eemR::eem base eem components abs_read() base abs components. Extended components may added add_metadata(). sample vector names component values select/exclude x. keep Logical. TRUE, returns specified samples; FALSE, removes . Default FALSE. ignore_case Logical. case ignored matching? Default FALSE. verbose Logical. TRUE, prints removed extracted samples console.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_samples.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset eemlist or abslist based on components — subset_samples","text":"object class eemlist abslist samples selected removed based sample.","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_samples.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Subset eemlist or abslist based on components — subset_samples","text":"","code":"# Subset by sample name names <- get_sample_info(example_eems, \"sample\") eem_subset <- subset_samples(example_eems, \"sample\", names[1]) # removes by default #> Removed sample(s): #> B1S1ExampleBlankBEM eem_subset <- subset_samples(example_eems, \"sample\", names[1], keep = TRUE) # keeps instead #> Extracted sample(s): #> B1S1ExampleBlankBEM  # Subset by metadata name eemlist <- add_metadata(metadata, example_eems) names <- get_sample_info(eemlist, \"meta_name\") eem_subset <- subset_samples(eemlist, \"meta_name\", names[1]) # removes by default #> Removed sample(s): #> ExampleBlank #> ExampleBlank"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract samples by type from an eemlist or abslist — subset_type","title":"Extract samples by type from an eemlist or abslist — subset_type","text":"Selects samples based sample_type attribute added via add_metadata(). Types include instrument blanks, analytical blanks, check standards, regular samples.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract samples by type from an eemlist or abslist — subset_type","text":"","code":"subset_type(x, type = c(\"iblank\", \"sblank\", \"check\", \"sample\"), negate = FALSE)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract samples by type from an eemlist or abslist — subset_type","text":"x eemlist abslist object. type character vector specifying sample type(s) extract. Options include: iblank: instrument blank sblank: analytical blank check: check standard sample: regular samples negate Logical. TRUE, returns samples except specified type(s). Default FALSE.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract samples by type from an eemlist or abslist — subset_type","text":"object class x containing selected (excluded) samples.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subset_type.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract samples by type from an eemlist or abslist — subset_type","text":"","code":"abs <- add_metadata(metadata, example_abs) eem <- add_metadata(metadata, example_eems)  # No instrument blanks exist tea <- subset_type(abs, \"iblank\") tea #> NULL  # Get analytical blanks (tea standards) tea <- subset_type(abs, \"sblank\") get_sample_info(tea, \"sample\") #> [1] \"B1S1ExampleBlankABS\"  # Get all blank EEMs (instrument + analytical) blk <- subset_type(eem, c(\"iblank\", \"sblank\")) get_sample_info(blk, \"sample\") #> [1] \"B1S1ExampleBlankBEM\"                \"B1S1ExampleBlankSEM\"                #> [3] \"B1S2ExampleTeaStdBEM\"               \"B1S3ExampleSampleBEM\"               #> [5] \"ManualExampleTeaWaterfallPlotBlank\"  # Get non-instrument blanks nonblk <- subset_type(eem, \"iblank\", negate = TRUE) get_sample_info(nonblk, \"sample\") #> [1] \"B1S1ExampleBlankSEM\"                 \"B1S2ExampleTeaStdSEM\"                #> [3] \"B1S3ExampleSampleSEM\"                \"ManualExampleTeaWaterfallPlotSample\""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subtract_blank.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform blank subtraction on EEM samples — subtract_blank","title":"Perform blank subtraction on EEM samples — subtract_blank","text":"Subtracts blank EEM data sample EEM data. Samples must metadata blank data attached prior running.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subtract_blank.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform blank subtraction on EEM samples — subtract_blank","text":"","code":"subtract_blank(eem)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subtract_blank.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform blank subtraction on EEM samples — subtract_blank","text":"eem eem eemlist object.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subtract_blank.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform blank subtraction on EEM samples — subtract_blank","text":"object class eem eemlist sample data (x) subtracted blank data (blk_x).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subtract_blank.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Perform blank subtraction on EEM samples — subtract_blank","text":"Blank subtraction requires blank EEM data attached sample. done add_blanks(), turn requires metadata added via add_metadata().","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/subtract_blank.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform blank subtraction on EEM samples — subtract_blank","text":"","code":"eem <- add_metadata(metadata, example_eems) blanklist <- subset_type(eem, \"iblank\") eem <- add_blanks(eem, blanklist)  # Subtract blank from a single EEM eem_sub <- subtract_blank(eem[[1]])  # Subtract blank from an EEM list eemlist_sub <- subtract_blank(eem)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/unique.html","id":null,"dir":"Reference","previous_headings":"","what":"Get unique EEMs or absorbance samples — unique","title":"Get unique EEMs or absorbance samples — unique","text":"Removes duplicate EEM matrices absorbance data eemlist abslist. Duplicates determined based actual data (eem$x abs$data) rather metadata sample names. truly duplicate EEM absorbance data removed.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/unique.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get unique EEMs or absorbance samples — unique","text":"","code":"# S3 method for class 'eemlist' unique(x, ...)  # S3 method for class 'abslist' unique(x, ...)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/unique.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get unique EEMs or absorbance samples — unique","text":"x eemlist abslist object. ... Additional arguments passed base::unique().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/unique.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get unique EEMs or absorbance samples — unique","text":"object class eemlist abslist duplicate samples removed.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/unique.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get unique EEMs or absorbance samples — unique","text":"first duplicate retained. sample name updated reflect give name first duplicated sample.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/unique.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get unique EEMs or absorbance samples — unique","text":"","code":"# Remove duplicate EEMs unique_eems <- unique(example_eems)  # Remove duplicate absorbance data unique_abs <- unique(example_abs)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/user_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up and apply user defaults for data processing — user_config","title":"Set up and apply user defaults for data processing — user_config","text":"Reads user generated YAML file (user-config.yaml) stores user specified values arguments run_eems() applies package environment (.pkgenv). allows user specify processing parameters maintained across R sessions.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/user_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up and apply user defaults for data processing — user_config","text":"","code":"edit_user_config()  load_user_config(   config_path = rappdirs::user_data_dir(\"eemanalyzeR\"),   env = .pkgenv )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/user_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up and apply user defaults for data processing — user_config","text":"config_path path YAML file user default values env environment name write ","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/user_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up and apply user defaults for data processing — user_config","text":"edit_user_config opens user-config.yaml. load_user_config apply user defaults user-config.yaml package environment","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/user_config.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set up and apply user defaults for data processing — user_config","text":"defaults stored YAML configuration file user data directory. function open file text can edited. save new defaults simply edit file save . arguments file overwrite defaults set package.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/user_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up and apply user defaults for data processing — user_config","text":"","code":"edit_user_config() #> User configuration loaded from file: #> ~/.local/share/eemanalyzeR/user-config.yaml #> Changes to user configuration applied.  load_user_config() #> User configuration loaded from file: #> ~/.local/share/eemanalyzeR/user-config.yaml"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/usgs_indices.html","id":null,"dir":"Reference","previous_headings":"","what":"USGS methods for fluorescence and absorbance indices — usgs_indices","title":"USGS methods for fluorescence and absorbance indices — usgs_indices","text":"Calculates commonly used absorbance fluorescence optical indices eemlist abslist. indices commonly used U.S. Geological Survey. detailed descriptions references, see Hansen et al. 2018 (Tables 1 8).","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/usgs_indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"USGS methods for fluorescence and absorbance indices — usgs_indices","text":"","code":"usgs_indices(eemlist, abslist, cuvle = 1, qaqc_dir = NULL)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/usgs_indices.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"USGS methods for fluorescence and absorbance indices — usgs_indices","text":"Hansen, . M., Fleck, J., Kraus, T. E. C., Downing, B. D., von Dessonneck, T., & Bergamaschi, B. (2018). Procedures using Horiba Scientific Aqualog® fluorometer measure absorbance fluorescence dissolved organic matter (USGS Numbered Series . 2018-1096). U.S. Geological Survey. https://doi.org/10.3133/ofr20181096","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/usgs_indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"USGS methods for fluorescence and absorbance indices — usgs_indices","text":"eemlist eemlist object. abslist abslist object. cuvle Cuvette (path) length cm. qaqc_dir File path QAQC files generated create_mdl() create_std(). Default user-specific data directory rappdirs::user_data_dir().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/usgs_indices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"USGS methods for fluorescence and absorbance indices — usgs_indices","text":"list two elements: eem_index: data.frame fluorescence indices. row corresponds single index sample. abs_index: data.frame absorbance indices. row corresponds single index sample. data.frame contains following columns: sample_name: name sample EEM absorbance list meta_name: sample name metadata provided; otherwise sample_name index: name index value: calculated value index","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/usgs_indices.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"USGS methods for fluorescence and absorbance indices — usgs_indices","text":"absorbance 1 nm interval, interpolated using zoo::na.approx(), fills missing values using linear interpolation. EEM data 1 nm interval, fluorescence interpolated using pracma::interp2().","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/usgs_indices.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"USGS methods for fluorescence and absorbance indices — usgs_indices","text":"","code":"indices <- usgs_indices(   example_processed_eems,   example_processed_abs,   qaqc_dir = system.file(\"extdata\", package = \"eemanalyzeR\") )"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_blanks.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate the instrument blank(s) — validate_blanks","title":"Validate the instrument blank(s) — validate_blanks","text":"Plots validation instrument blank samples manual inspection.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_blanks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate the instrument blank(s) — validate_blanks","text":"","code":"validate_blanks(blanklist)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_blanks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate the instrument blank(s) — validate_blanks","text":"blanklist eemlist containing containing blank EEMs.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_blanks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate the instrument blank(s) — validate_blanks","text":"blanklist validated blanks, error valid blanks selected","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_blanks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate the instrument blank(s) — validate_blanks","text":"","code":"eems <- add_metadata(metadata, example_eems) eems <- subset_type(eems, type = \"iblank\") valid_blanklist <- validate_blanks(eems)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate the eemanalyzeR configuration — validate_config","title":"Validate the eemanalyzeR configuration — validate_config","text":"Checks settings eemanalyzeR config valid options warns user ","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate the eemanalyzeR configuration — validate_config","text":"","code":"validate_config(env = .pkgenv)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate the eemanalyzeR configuration — validate_config","text":"env environment find config. Defaults package environment","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate the eemanalyzeR configuration — validate_config","text":"invisibly returns TRUE configuration valid, otherwise returns error","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate the eemanalyzeR configuration — validate_config","text":"","code":"# Example validation validate_config()"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_std.html","id":null,"dir":"Reference","previous_headings":"","what":"Visually validate the check standard — validate_std","title":"Visually validate the check standard — validate_std","text":"Visually inspect plots tea check standard absorbance compared long-term standard.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_std.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visually validate the check standard — validate_std","text":"","code":"validate_std(abslist, qaqc_dir = NULL, tolerance = 0.2)"},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_std.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visually validate the check standard — validate_std","text":"abslist abslist object. qaqc_dir File path QAQC files generated create_mdl() create_std(). Default user-specific data directory rappdirs::user_data_dir(). tolerance Maximum percent deviation check standard can vary long-term values without flagged.","code":""},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_std.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visually validate the check standard — validate_std","text":"ggplot object showing absorbance check standards, long-term standard (dashed line), tolerance thresholds (gray ribbon).","code":""},{"path":[]},{"path":"https://katiewampler.github.io/eemanalyzeR/reference/validate_std.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visually validate the check standard — validate_std","text":"","code":"abslist <- add_metadata(metadata, example_abs) validate_std(abslist, system.file(\"extdata\", package = \"eemanalyzeR\"))"}]
